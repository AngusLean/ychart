{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c0bd063a0deb15350419","webpack:///./src/index.js","webpack:///./src/Ycharts.js","webpack:///./src/Storage.js","webpack:///./src/tool/util.js","webpack:///./src/Group.js","webpack:///./src/tool/klass.js","webpack:///./src/core/graphic/mixin/transform.js","webpack:///./src/core/graphic/mixin/helper/matrix.js","webpack:///./src/core/graphic/mixin/helper/vector.js","webpack:///./src/core/graphic/mixin/moveable.js","webpack:///./src/core/graphic/element.js","webpack:///./src/tool/guid.js","webpack:///./src/Painter.js","webpack:///./src/Layer.js","webpack:///./src/tool/dom.js","webpack:///./src/Reactor.js","webpack:///./src/tool/event.js","webpack:///./src/core/graphic/mixin/draggable.js","webpack:///./src/core/graphic/mixin/eventful.js","webpack:///./src/core/config/config.js","webpack:///./src/core/graphic/htmlView.js","webpack:///./src/core/graphic/view.js","webpack:///./src/tool/lang.js","webpack:///./src/shape/Bezier.js","webpack:///./src/tool/debug.js","webpack:///./src/core/viewBuilder.js","webpack:///./src/core/graphic/contextView.js","webpack:///./src/core/config/OptionProxy.js","webpack:///./src/core/config/StyleProxy.js","webpack:///./src/core/config/style.js","webpack:///./src/core/graphic/helper/text.js","webpack:///./src/core/graphic/helper/viewutil.js","webpack:///./src/shape/Circle.js","webpack:///./src/shape/Line.js","webpack:///./src/shape/Rect.js","webpack:///./src/shape/Triangle.js","webpack:///./src/shape/YText.js","webpack:///./src/shape/Image.js","webpack:///./src/animation/animation.js"],"names":["shape","Bezier","Circle","Line","Rect","Triangle","YText","Image","Group","version","Animation","textutil","extendView","config","isDebug","open","customView","baseContextViewExtend","YCharts","eleid","domid","__storage","__painter","__handler","prototype","clear","clean","depose","cleanPainter","add","el","addEle","BrushAll","refresh","update","resize","wh","ht","getWidth","getHeight","instances","ychart","init","id","document","getElementById","innerHTML","_charts","Storage","yh","_yh","_roots","element","index","i","length","getId","setDefaultConfig","height","push","getDisplayableShapeList","list","_getList","root","children","ignore","forEach","checkNull","mergeItem","merge","simpleMerge","replaceattr","isType","isArr","ele","ctx","cb","item","call","it","hasOwnProperty","which","target","source","key","overwrite","targetProp","map","tg","type","Object","toString","obj","isFunc","isObj","options","child","parent","inherit","clazz","baseClazz","clazzPrototype","F","prop","constructor","mixin","overlay","_over","mIdentity","identity","EPSILON","isNotAroundZero","val","Transformable","opts","position","rotation","scale","origin","transform","needLocalTransform","updateTransform","parentHasTransform","m","create","getLocalTransform","mul","copy","invTransform","invert","rotate","setTransform","tmpTransform","decomposeTransform","sx","sy","Math","sqrt","atan2","transformCoordToLocal","x","y","v2","applyTransform","transformCoordToGlobal","ArrayCtor","Float32Array","Array","matrix","out","m1","m2","out0","out1","out2","out3","out4","out5","translate","a","v","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","vx","vy","det","vector","clone","set","b","v1","scaleAndAdd","sub","len","lenSquare","div","dot","s","normalize","d","distance","distanceSquare","negate","lerp","t","min","max","lengthSquare","dist","distSquare","Moveable","drift","dx","dy","__dirty","move","angle","zoom","Element","beginid","guid","Painter","storage","__yh","origindom","temp","width","left","top","container","appendChild","__layer","shapeList","updateLayerState","layer","zlevel","lastZlevel","zLevel","getLayer","preProcessShapeInLayer","Brush","getContext","afterProcessShapeInLayer","_preProcessShapeInLayer","_shape","_groupPreProcess","gp","ly","groupquene","_buildGroupQuene","_group","unshift","before","insertLayer","la","dom","getElementsByTagName","parseInt","getAttribute","parentNode","insertBefore","Layer","setAttribute","layerW","layerH","alert","clearRect","parseInt10","getPosition","defaultView","getComputedStyle","rect","getBoundingClientRect","scrollTop","documentElement","body","scrollLeft","clientWidth","style","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","CACHE","getRectByCtx","context","canvas","doc","createDOM","desc","pos","attr","newdom","createElement","isNaN","drawing","ALL_EVENT_NAMES","SPECIAL_EVENT_HANDLERS","_lastHovered","htmlView","mousemove","exEvent","ev","targetEle","triggerProxy","tip","clientX","tipoffsetX","clientY","tipoffsetY","info","show","hide","mouseout","COMMON_EVENT_HANDLER","name","handlers","painter","_handlers","_dragmanager","initHandlers","eventHandler","eventName","undefined","extendAndFixEventPackge","event","trigger","addHandler","clientToLocal","getHoverElement","shapes","sp","contain","ycX","ycY","removeHandler","ClientToLocal","e","box","handler","addEventListener","removeEventListener","getEvent","window","getTarget","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","stop","Draggable","on","_dragStart","_dragIng","_dragEnd","_dragDelay","_lastClickTime","Date","_x","offsetX","_y","offsetY","_dragingTarget","crt","draggable","cursor","cursor_moveable","cursor_getable","cursor_default","ReBrushAll","dragging","Eventful","h","_h","_one","_ctx","once","indexOf","remove","hs","splice","arrySlice","slice","handles","args","arguments","argLen","array","apply","DEFAULT_CONFIG","coordinateSystem","DomContent","_root","_content","border","backgroundColor","padding","title","footer","visibility","html","HtmlView","option","_domcontent","content","View","Error","throwFunc","str","noOp","bind1Arg","arg1","onreadyCallback","callback","loadMethod","notCompleteCb","completeCb","timer","setInterval","clearInterval","onImgReady","isImageLoaded","imgElement","complete","naturalHeight","warn","insiderange","rg1","rg2","abs","atan","floor","radian2angle","radian","PI","BuildPath","beginpt","endpt","compact","systole","linequadrant","nextx","dis","nexty","nexpt_ct","pt","dispt","leftorright","getrs","disx","disy","piece","dispiece","getDistance","linevert_angleor","linectx_dis","linecty_dis","allctpt","allctinlinept","alllinectpt","moveTo","quadraticCurveTo","brushType","dbpre","wnpre","dbprespace","rs","debug","console","log","isobj","printobj","_printObj","REQUIRED_CHILD","defaults","BaseContextView","baseOption","_setDefaultTrasformToCartesian","ContextView","configProxy","defaultConfig","save","_SetShapeTransform","bindContext","BeforeBrush","beginPath","tp","getBrushType","fill","stroke","restore","AfterBrush","AfterFirstBuildPath","_BeforeBrush","_BuildPath","_AfterBrush","DrawText","local","getable","GetContainRect","_isPtInPath","text","crect","getStyle","textw","getTextWidth","font","texth","getTextHeight","textAlign","textBaseline","textpos","textColor","fillStyle","globalTextPos","fillText","getConfig","OptionProxy","styleProxy","_this","defineProperty","enumerable","configurable","get","defaultStyle","styleMapper","styleMap","StyleProxy","strokeStyle","gradient","_gradient","createLinearGradient","addColorStop","beginColor","endColor","_style","fillColor","color","lineColor","lineWidth","lineCap","lineJoin","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","shadowx","shadowy","globalAlpha","alpha","globalCompositionOperation","overlaystyle","defaultFont","defaultAlign","defaultBaseline","TextUtil","TEXT_CACHE_MAX","_textHeightCache","_textHeightCacheCounter","textFont","split","measureText","_textWidthCache","_textWidthCacheCounter","l","getTextRect","lineHeight","_fillText","_left","_right","_top","_bottom","bottom","right","CanvasRenderingContext2D","isPointInStroke","path","isPointInPath","createCanvas","isPtInRect","isPtInPath","parseFloat","radius","r","arc","splitnum","splitlen_x","x1","x0","splitlen_y","y1","y0","lineTo","minx","miny","maxx","maxy","pts","notClose","closePath","tmp","xs","every","ys","direction","coordinate","Init","image","src","__setOrigin","dWidth","dHeight","buildImagePath1","numberOrZero","sWidth","sHeight","drawImage","fields","field","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","Nop","animate","onBegin","onChanging","onEnd","beginDelay","frame","beginResult","elements","__elements"],"mappings":"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","file":"ychart.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ychart\"] = factory();\n\telse\n\t\troot[\"ychart\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c0bd063a0deb15350419","/**\n *  \n * @module ychart/index\n */\nimport ychart from \"./Ycharts\";\nimport Bezier from \"./shape/Bezier\";\nimport Circle from \"./shape/Circle\";\nimport Line from \"./shape/Line\";\nimport Rect from \"./shape/Rect\";\nimport Triangle from \"./shape/Triangle\";\nimport YText from \"./shape/YText\";\nimport Image from \"./shape/Image\";\nimport Group from \"./Group\";\nimport Animation from \"./animation/animation\";\nimport ShapeBuilder from \"./core/viewBuilder\";\nimport debugs from \"./tool/debug\";\nimport textUtil from \"./core/graphic/helper/text\";\n\nychart.shape = {Bezier ,Circle ,Line ,Rect ,Triangle ,YText,Image};\n\nychart.Group = Group;\n\nychart.version = 1.0;\n\nychart.Animation = Animation;\n\nychart.textutil = textUtil;\n\nychart.extendView = function (config) {\n    //\n    var isDebug = debugs.open;\n    debugs.open = true;\n    var customView = ShapeBuilder.baseContextViewExtend(config);\n    debugs.open = isDebug;\n    return customView;\n};\n\n/**\n * @todo  Group\n * layer\n * \n * painter,layer\n */\n\nexport default ychart;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * \n * @module ychart/Ychart\n */\nimport Storage from \"./Storage\";\nimport Painter from \"./Painter\";\nimport Handler from \"./Reactor\";\n\n\n/**\n * @classdesc ychartYH.init\n * @class YCharts\n * @param eleid {string}  canvas canvas \n * @constructor\n */\nvar YCharts = function (eleid ) {\n    //ID\n    this.domid = eleid;\n\n    //\n    this.__storage = new Storage(this);\n\n    // storage\n    this.__painter = new Painter(this, this.__storage);\n\n    //\n    this.__handler = new Handler(this.domid, this.__painter, this.__storage);\n};\n\n\n/**\n * ychart \n */\nYCharts.prototype.clear = function () {\n    this.__painter.clean();\n    this.__storage.clean();\n    this.__handler.depose();\n};\n\n/**\n * canvas\n * ychart\n * \n */\nYCharts.prototype.cleanPainter = function(){\n    this.__painter.cleanPainter();\n\n};\n\n/**\n *  shpaeGroup\n */\nYCharts.prototype.add = function (el) {\n    this.__storage.addEle(el);\n    return this;\n};\n\n/**\n * canvas\n * \n */\nYCharts.prototype.BrushAll = function () {\n    this.__painter.refresh();\n    return this;\n};\n\n/**\n * \n *@see {@link BrushAll}\n */\nYCharts.prototype.update = function () {\n    this.BrushAll();\n};\n\nYCharts.prototype.resize = function(wh ,ht){\n    this.__painter.resize(wh ,ht);\n};\n\n/**\n * ychart\n */\nYCharts.prototype.getWidth = function(){\n    return this.__painter.getWidth();\n};\n\n/**\n * canvas\n */\nYCharts.prototype.getHeight = function(){\n    return this.__painter.getHeight();\n};\n\n\nvar instances = {};\n\n/**\n * ychart\n * @global\n * @class\n */\nvar ychart = {\n    /**\n     * ycharts ycharts\n     * @param id  ID\n     * @param config \n     * @returns {YCharts}\n     */\n    init: function(id, config) {\n        document.getElementById(id).innerHTML = \"\";\n        var _charts = new YCharts(id, config);\n        instances[id] = _charts;\n        return _charts;\n    },\n    /**\n     * ychart\n     * @param {number} id ychartID\n     */\n    depose: function(id) {\n        if (instances[id]) {\n            instances[id].clean();\n            instances[id] = null;\n        }\n    }\n};\n\n\nexport default ychart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Ycharts.js","/**\n *  \n * @module ychart/storage\n *\n */\nimport {isArr} from \"./tool/util\";\nimport Group from \"./Group\";\n\n\n/**\n *\n * \n * @class\n * @classdesc  ychart\n * @param yh {module:ychart/Ychart} ychart\n * @constructor\n */\nvar Storage = function (yh) {\n\n    //ycharts\n    this._yh = yh;\n\n    //\n    this._roots = [];\n};\n\n/**\n * \n * @param element {module:ychart/core/graphic/element} \n */\nStorage.prototype.addEle = function (element) {\n    if (!element || element.id === null) {\n        return;\n    }\n    var index, i;\n    for (index = 0; index < this._roots.length; index++) {\n        i = this._roots[index];\n        if (i.id == element.getId()) {\n            return;\n        }\n    }\n    element.setDefaultConfig({\n        yh:  this._yh,\n        height: this._yh.getHeight()\n    });\n\n    //group\n    this._roots.push(element);\n};\n\n/**\n *  \n * @returns {Array.<module:ychart/core/graphic/element>}\n */\nStorage.prototype.getDisplayableShapeList = function () {\n    var list = [];\n    var _getList = function (root) {\n        if (isArr(root)) {\n            for (var i = 0; i < root.length; i++) {\n                if (root[i] instanceof Group) {\n                    _getList(root[i].children);\n                } else if (root[i].ignore === false) {\n                    list.push(root[i]);\n                }\n            }\n        } else if (root instanceof Group) {\n            _getList(root.children);\n        }\n    };\n\n    _getList(this._roots);\n\n    return list;\n};\n\n\n\n/**\n * \n */\nStorage.prototype.clean = function () {\n    this._roots = [];\n};\n\n\nexport default Storage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Storage.js","/**\n *@module ychart/tool/util\n */\n\n/**\n * \n * @function\n * @param object\n * @param name\n * @returns {boolean}\n */\n/* var hasPrototypeProperty = function(object, name) {\n    return !object.hasOwnProperty(name) && (name in object);\n};\n\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\n */\nexport function forEach(ele, ctx, cb) {\n    if (isType(\"Array\")(ele)) {\n        ele.forEach((function(item, index) {\n            cb.call(ctx, item, index);\n        }));\n    } else if (isType(\"Object\")(ele)) {\n        var it, index = 0;\n        for (it in ele) {\n            if (ele.hasOwnProperty(it)) {\n                cb.call(ctx, it, index++);\n            }\n        }\n    }\n}\n\n/**\n * \n * @function\n * @param which\n * @returns {boolean}\n */\nexport function checkNull(which) {\n    return !which || typeof which == \"undefined\" || which == \"null\";\n}\n\n/**\n * key\n * @param target\n * @param source\n * @param key\n * @param overwrite\n */\nexport function mergeItem(target, source, key, overwrite) {\n    if (source.hasOwnProperty(key) && !(source[key] == null)) {\n        var targetProp = target[key];\n        if (typeof targetProp == \"object\") {\n            // merge\n            merge(\n                target[key],\n                source[key],\n                overwrite\n            );\n        } else if (overwrite || !(key in target)) {\n            // overwritetrue\n            target[key] = source[key];\n        }\n    }\n}\n\n\n/**\n * .\n * \n * @function\n * @param {*} target \n * @param {*} source \n * @param {boolean} overwrite \n * @param {object} map .\n *      targetsouece\n */\nexport function merge(target, source, overwrite, map) {\n    if (checkNull(target)) {\n        target = {};\n    }\n    if (isArr(source)) {\n        source.forEach(item =>\n            merge(target, item, overwrite, map)\n        );\n    } else {\n        map && replaceattr(source, map);\n        for (var i in source) {\n            mergeItem(target, source, i, overwrite);\n        }\n    }\n    return target;\n}\n\nexport function simpleMerge(target , source){\n    if (isArr(source)) {\n        source.forEach(item =>\n            simpleMerge(target, item)\n        );\n    } else {\n        for (var item in source) {\n            if(item)\n                target[item] = source[item];\n        }\n    }\n    return target;\n}\n\n/**\n * map. \n * \n * @function\n * @param {object} target    \n * @param {object} map   \n */\nexport function replaceattr(target, map) {\n    if (map && target) {\n        for (var tg in target) {\n            if (map.hasOwnProperty(tg) && (map[tg] != tg)) {\n                // target\n                target[map[tg]] = target[tg];\n                target[tg] = null;\n            }\n        }\n    }\n    return target;\n}\n\nexport function isType(type) {\n    return function(ele) {\n        return !checkNull(ele) && Object.prototype.toString.call(ele) == \"[object \" + type + \"]\";\n    };\n}\n\n\nexport function isArr(obj) {\n    return isType(\"Array\")(obj);\n}\n\nexport var isFunc = isType(\"Function\"),\n    isObj = isType(\"Object\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/tool/util.js","/**\n * \n * @module ychart/Group\n */\nimport {merge} from \"./tool/util\";\nimport {mixin} from \"./tool/klass\";\nimport Transform from \"./core/graphic/mixin/transform\";\nimport Moveable from \"./core/graphic/mixin/moveable.js\";\nimport Element from \"./core/graphic/element\";\n\n/**\n * @class\n * @classdesc   {@link ./core/graphic/view} \n */\nclass Group extends Element{\n\n    /**\n     * @constructor\n     * @param {Object} options  \n     */\n    constructor(options){\n        super(\"group\");\n\n        this.children = [];\n\n        merge(this, options, false, null);\n\n        Transform.call(this);\n    }\n\n    /**\n     * \n     * @param {Element} child  shape\n     * @returns {Group}\n     */\n    add(child) {\n        if (child == this)\n            return;\n        this.children.forEach(ele => {\n            if(child.id === ele.id){\n                return this;\n            }\n        });\n        //group \n        child.parent = this;\n\n        this.children.push(child);\n        return this;\n    }\n\n    setDefaultConfig(config){\n\n    }\n}\n\nmixin(Group ,Transform , true);\nmixin(Group ,Moveable, true);\n\n\nexport default Group;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Group.js","export var inherit = function (clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n\n    function F() {\n    }\n\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n\n    for (var prop in clazzPrototype) {\n        clazz.prototype[prop] = clazzPrototype[prop];\n    }\n    clazz.constructor = clazz;\n};\n\n// \n\nexport var mixin = function (target, source, overlay) {\n    source = \"prototype\" in source ? source.prototype : source;\n    target = \"prototype\" in target ? target.prototype : target;\n    _over(target, source, overlay);\n    function _over(target, source, overlay) {\n        for (var ele in source) {\n            if (ele != \"constructor\" && source.hasOwnProperty(ele) &&\n                (overlay ? (source[ele] !== null) : (target[ele] === null))) {\n                target[ele] = source[ele];\n            }\n        }\n        return target;\n    }\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tool/klass.js","/**\n * .\n * handler.js \n * @module ychart/core/graphic/mixin\n */\n\nimport matrix from \"./helper/matrix\";\nimport vector from \"./helper/vector\";\nvar mIdentity = matrix.identity;\n\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\n\n/**\n *  \n * @class\n * @mixin\n */\nvar Transformable = function (opts) {\n    opts = opts || this;\n    // If there are no given position, rotation, scale\n    if (!opts.position) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default [0, 0]\n         */\n        this.position = [0, 0];\n    } else {\n        this.position = opts.position;\n    }\n    if (!opts.rotation) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default 0\n         */\n        this.rotation = 0;\n    } else {\n        this.rotation = opts.rotation;\n    }\n    if (!opts.scale) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default [1, 1]\n         */\n        this.scale = [1, 1];\n    } else {\n        this.scale = opts.scale;\n    }\n    /**\n     * \n     * @type {Array.<number>}\n     * @default null\n     */\n    this.origin = this.origin || null;\n\n};\n\n\n/**\n * \n */\nTransformable.prototype.transform = null;\n\n/**\n * \n * , position, rotation, scaletransformtransform\n */\nTransformable.prototype.needLocalTransform = function () {\n    return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) ||\n        isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) ||\n        isNotAroundZero(this.scale[1] - 1);\n};\n\nTransformable.prototype.updateTransform = function () {\n    var parent = this.parent;\n    var parentHasTransform = parent && parent.transform;\n    var needLocalTransform = this.needLocalTransform();\n    var m = this.transform;\n    m = m || [];\n    if (!(needLocalTransform || parentHasTransform)) {\n        mIdentity(m);\n        return;\n    }\n\n    m = m || matrix.create();\n\n    if (needLocalTransform) {\n        this.getLocalTransform(m);\n    } else {\n        mIdentity(m);\n    }\n\n    // \n    if (parentHasTransform) {\n        if (needLocalTransform) {\n            matrix.mul(m, parent.transform, m);\n        } else {\n            matrix.copy(m, parent.transform);\n        }\n    }\n    // \n    this.transform = m;\n\n    this.invTransform = this.invTransform || matrix.create();\n    matrix.invert(this.invTransform, m);\n};\n\nTransformable.prototype.getLocalTransform = function (m) {\n    m = m || [];\n    mIdentity(m);\n\n    var origin = this.origin;\n\n    var scale = this.scale;\n    var rotation = this.rotation;\n    var position = this.position;\n    if (origin) {\n        // Translate to origin\n        m[4] -= origin[0];\n        m[5] -= origin[1];\n    }\n    if (scale) {\n        matrix.scale(m, m, scale);\n    }\n    if (rotation) {\n        matrix.rotate(m, m, rotation);\n    }\n    if (origin) {\n        // Translate back from origin\n        m[4] += origin[0];\n        m[5] += origin[1];\n    }\n\n    m[4] += position[0];\n    m[5] += position[1];\n\n    return m;\n};\n\n/**\n * transformcontext\n * @param {Context2D} ctx\n */\nTransformable.prototype.setTransform = function (ctx) {\n    var m = this.transform;\n    if (m) {\n        ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n    }\n};\n\nvar tmpTransform = [];\n\n/**\n * `transform``position`, `rotation`, `scale`\n */\nTransformable.prototype.decomposeTransform = function () {\n    if (!this.transform) {\n        return;\n    }\n    var parent = this.parent;\n    var m = this.transform;\n    if (parent && parent.transform) {\n        // Get local transform and decompose them to position, scale, rotation\n        matrix.mul(tmpTransform, parent.invTransform, m);\n        m = tmpTransform;\n    }\n    var sx = m[0] * m[0] + m[1] * m[1];\n    var sy = m[2] * m[2] + m[3] * m[3];\n    var position = this.position;\n    var scale = this.scale;\n    if (isNotAroundZero(sx - 1)) {\n        sx = Math.sqrt(sx);\n    }\n    if (isNotAroundZero(sy - 1)) {\n        sy = Math.sqrt(sy);\n    }\n    if (m[0] < 0) {\n        sx = -sx;\n    }\n    if (m[3] < 0) {\n        sy = -sy;\n    }\n    position[0] = m[4];\n    position[1] = m[5];\n    scale[0] = sx;\n    scale[1] = sy;\n    this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n\n/**\n *  shape \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\nTransformable.prototype.transformCoordToLocal = function (x, y) {\n    var v2 = [x, y];\n    var invTransform = this.invTransform;\n    if (invTransform) {\n        vector.applyTransform(v2, v2, invTransform);\n    }\n    return v2;\n};\n\n/**\n * \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\nTransformable.prototype.transformCoordToGlobal = function (x, y) {\n    var v2 = [x, y];\n    var transform = this.transform;\n    if (transform) {\n        vector.applyTransform(v2, v2, transform);\n    }\n    return v2;\n};\n\nexport default Transformable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/mixin/transform.js","/**\n * @module ychart/core/graphic/mixin/helper\n * @see {@link ychart/core/graphic/mixin} \n */\n\nvar ArrayCtor = typeof Float32Array === 'undefined'\n    ? Array\n    : Float32Array;\n/**\n * 3x2\n */\nvar matrix = {\n    /**\n     * \n     * @return {Float32Array|Array.<number>}\n     */\n    create: function () {\n        var out = new ArrayCtor(6);\n        matrix.identity(out);\n\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     */\n    identity: function (out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 1;\n        out[4] = 0;\n        out[5] = 0;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} m\n     */\n    copy: function (out, m) {\n        out[0] = m[0];\n        out[1] = m[1];\n        out[2] = m[2];\n        out[3] = m[3];\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} m1\n     * @param {Float32Array|Array.<number>} m2\n     */\n    mul: function (out, m1, m2) {\n        // Consider matrix.mul(m, m2, m);\n        // where out is the same as m2.\n        // So use temp variable to escape error.\n        var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n        var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n        var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n        var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n        var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n        var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n        out[0] = out0;\n        out[1] = out1;\n        out[2] = out2;\n        out[3] = out3;\n        out[4] = out4;\n        out[5] = out5;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     * @param {Float32Array|Array.<number>} v\n     */\n    translate: function (out, a, v) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        out[4] = a[4] + v[0];\n        out[5] = a[5] + v[1];\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     * @param {number} rad\n     */\n    rotate: function (out, a, rad) {\n        var aa = a[0];\n        var ac = a[2];\n        var atx = a[4];\n        var ab = a[1];\n        var ad = a[3];\n        var aty = a[5];\n        var st = Math.sin(rad);\n        var ct = Math.cos(rad);\n\n        out[0] = aa * ct + ab * st;\n        out[1] = -aa * st + ab * ct;\n        out[2] = ac * ct + ad * st;\n        out[3] = -ac * st + ct * ad;\n        out[4] = ct * atx + st * aty;\n        out[5] = ct * aty - st * atx;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     * @param {Float32Array|Array.<number>} v\n     */\n    scale: function (out, a, v) {\n        var vx = v[0];\n        var vy = v[1];\n        out[0] = a[0] * vx;\n        out[1] = a[1] * vy;\n        out[2] = a[2] * vx;\n        out[3] = a[3] * vy;\n        out[4] = a[4] * vx;\n        out[5] = a[5] * vy;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     */\n    invert: function (out, a) {\n\n        var aa = a[0];\n        var ac = a[2];\n        var atx = a[4];\n        var ab = a[1];\n        var ad = a[3];\n        var aty = a[5];\n\n        var det = aa * ad - ab * ac;\n        if (!det) {\n            return null;\n        }\n        det = 1.0 / det;\n\n        out[0] = ad * det;\n        out[1] = -ab * det;\n        out[2] = -ac * det;\n        out[3] = aa * det;\n        out[4] = (ac * aty - ad * atx) * det;\n        out[5] = (ab * atx - aa * aty) * det;\n        return out;\n    }\n};\n\nexport default matrix;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/mixin/helper/matrix.js","/**\n * @module ychart/core/graphic/mixin/helper\n * @see {@link ychart/core/graphic/mixin} \n */\n\n\n\n/**\n * @typedef {Float32Array|Array.<number>} Vector2\n */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n\n/**\n * \n */\nvar vector = {\n    /**\n     * \n     * @param {number} [x=0]\n     * @param {number} [y=0]\n     * @return {Vector2}\n     */\n    create: function (x, y) {\n        var out = new ArrayCtor(2);\n        out[0] = x || 0;\n        out[1] = y || 0;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     * @return {Vector2}\n     */\n    copy: function (out, v) {\n        out[0] = v[0];\n        out[1] = v[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v\n     * @return {Vector2}\n     */\n    clone: function (v) {\n        var out = new ArrayCtor(2);\n        out[0] = v[0];\n        out[1] = v[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {number} a\n     * @param {number} b\n     * @return {Vector2} \n     */\n    set: function (out, a, b) {\n        out[0] = a;\n        out[1] = b;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    add: function (out, v1, v2) {\n        out[0] = v1[0] + v2[0];\n        out[1] = v1[1] + v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @param {number} a\n     */\n    scaleAndAdd: function (out, v1, v2, a) {\n        out[0] = v1[0] + v2[0] * a;\n        out[1] = v1[1] + v2[1] * a;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    sub: function (out, v1, v2) {\n        out[0] = v1[0] - v2[0];\n        out[1] = v1[1] - v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v\n     * @return {number}\n     */\n    len: function (v) {\n        return Math.sqrt(this.lenSquare(v));\n    },\n\n    /**\n     * \n     * @param {Vector2} v\n     * @return {number}\n     */\n    lenSquare: function (v) {\n        return v[0] * v[0] + v[1] * v[1];\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    mul: function (out, v1, v2) {\n        out[0] = v1[0] * v2[0];\n        out[1] = v1[1] * v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    div: function (out, v1, v2) {\n        out[0] = v1[0] / v2[0];\n        out[1] = v1[1] / v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @return {number}\n     */\n    dot: function (v1, v2) {\n        return v1[0] * v2[0] + v1[1] * v2[1];\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     * @param {number} s\n     */\n    scale: function (out, v, s) {\n        out[0] = v[0] * s;\n        out[1] = v[1] * s;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     */\n    normalize: function (out, v) {\n        var d = vector.len(v);\n        if (d === 0) {\n            out[0] = 0;\n            out[1] = 0;\n        }\n        else {\n            out[0] = v[0] / d;\n            out[1] = v[1] / d;\n        }\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @return {number}\n     */\n    distance: function (v1, v2) {\n        return Math.sqrt(\n            (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1])\n        );\n    },\n\n    /**\n     * \n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @return {number}\n     */\n    distanceSquare: function (v1, v2) {\n        return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     */\n    negate: function (out, v) {\n        out[0] = -v[0];\n        out[1] = -v[1];\n        return  out;\n    },\n\n\n\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @param {number} t\n     */\n    lerp: function (out, v1, v2, t) {\n        out[0] = v1[0] + t * (v2[0] - v1[0]);\n        out[1] = v1[1] + t * (v2[1] - v1[1]);\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     * @param {Vector2} m\n     */\n    applyTransform: function (out, v, m) {\n        var x = v[0];\n        var y = v[1];\n        out[0] = m[0] * x + m[2] * y + m[4];\n        out[1] = m[1] * x + m[3] * y + m[5];\n        return out;\n    },\n    /**\n     * \n     * @param  {Vector2} out\n     * @param  {Vector2} v1\n     * @param  {Vector2} v2\n     */\n    min: function (out, v1, v2) {\n        out[0] = Math.min(v1[0], v2[0]);\n        out[1] = Math.min(v1[1], v2[1]);\n        return out;\n    },\n    /**\n     * \n     * @param  {Vector2} out\n     * @param  {Vector2} v1\n     * @param  {Vector2} v2\n     */\n    max: function (out, v1, v2) {\n        out[0] = Math.max(v1[0], v2[0]);\n        out[1] = Math.max(v1[1], v2[1]);\n        return out;\n    }\n};\n\nvector.length = vector.len;\nvector.lengthSquare = vector.lenSquare;\nvector.dist = vector.distance;\nvector.distSquare = vector.distanceSquare;\n\nexport default vector;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/mixin/helper/vector.js","/**\n * @module ychart/core/graphic/mixin\n */\n\n\n/**\n *  \n * @class\n * @mixin\n */\nvar Moveable = function () {\n\n};\n\nMoveable.prototype = {\n\n    /**\n     * \n     * @param {number} dx\n     * @param {number} dy\n     */\n    drift: function (dx, dy) {\n        this.position[0] += dx;\n        this.position[1] -= dy;\n        this.__dirty = true;\n    },\n\n    /**\n     *  drift\n     * @param {number} dx\n     * @param {number} dy\n     */\n    move: function (dx, dy) {\n        this.drift(dx, dy);\n    },\n\n    /**\n     * \n     * @param {number}  x X\n     * @param {number}  y y\n     * @param {number}  angle \n     */\n    rotate: function (x, y, angle) {\n        if(!this.rotation){\n            this.rotation = 0;\n        }\n        this.origin[0] += x;\n        this.origin[1] += y;\n        this.rotation += angle;\n\n        this.__dirty = true;\n    },\n\n    /**\n     * \n     * . [0,0] ,\n     * shapeorigin\n     *\n     * @param {number}  x X\n     * @param {number}  y y\n     */\n    zoom: function (x, y) {\n        this.scale[0] *= x;\n        this.scale[1] *= y;\n        this.__dirty = true;\n    }\n};\n\n\nexport default Moveable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/mixin/moveable.js","/**\n * ychart\n * @module ychart/core/graphic/element\n */\nimport guid from \"../../tool/guid\";\n\n/**\n * @classdesc  ID\n * @class\n */\nclass Element {\n    /**\n     * @constructor\n     * @param {String} type  . element\n     */\n    constructor(type = \"element\") {\n        Element.type = type;\n        this.id = this.type + \"_\" + guid();\n    }\n\n    /**\n     * id\n     * @returns {string}  ID\n     */\n    getId() {\n        return this.id;\n    }\n\n}\n\nexport default Element;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/element.js","var beginid = 1000;\nvar guid = function(){\n    return beginid++;\n};\n\nexport default guid;\n\n\n\n// WEBPACK FOOTER //\n// ./src/tool/guid.js","/**\n * \n * @module ychart/painter\n */\nimport Layer from \"./Layer\";\nimport guid from \"./tool/guid\";\nimport Group from \"./Group\";\nimport {\n    getPosition,\n    createDOM\n} from \"./tool/dom\";\n\n/**\n * \n * \n * Layer\n * @class\n * @classdesc \n * @param yh {module:ychart/Ychart} ychart\n * @param storage {module:ychart/storage}  \n * @constructor\n */\nvar Painter = function(yh, storage) {\n    this.__storage = storage;\n    this.__yh = yh;\n    this.origindom = document.getElementById(yh.domid);\n    var temp = getPosition(this.origindom);\n    this.width = temp.width;\n    this.height = temp.height;\n    this.left = temp.left;\n    this.top = temp.top;\n\n    // this.container = createDOM(guid() , \"div\" , \"container\" ,this.width , this.height ,\"relative\");\n    this.container = createDOM(guid(), \"div\", \"container\", \"relative\", {\n        width: \"100%\",\n        height: \"100%\"\n    });\n    this.origindom.appendChild(this.container);\n    this.__layer = [];\n};\n\n/**\n *ychart \n * setOption\n */\nPainter.prototype.refresh = function() {\n    var shapeList = this.__storage.getDisplayableShapeList();\n    this.updateLayerState(shapeList);\n    var i, shape, layer, zlevel, lastZlevel = -1;\n    for (i = 0; i < shapeList.length; i++) {\n        shape = shapeList[i];\n        zlevel = shape.zLevel || 0;\n        layer = this.getLayer(zlevel);\n        //layer\n        if (lastZlevel != zlevel && layer.__dirty) {\n            layer.clear();\n            lastZlevel = zlevel;\n            layer.__dirty = false;\n        }\n        this.preProcessShapeInLayer(shape, layer);\n        shape.Brush(layer.getContext());\n        this.afterProcessShapeInLayer(shape, layer);\n    }\n};\n\n/**\n * layer \n * @param shapeList {Array.<module:ychart/core/graphic/element>} \n */\nPainter.prototype.updateLayerState = function(shapeList) {\n    var i, layer, zlevel, shape;\n    for (i = 0; i < shapeList.length; i++) {\n        shape = shapeList[i];\n        //ychart\n        !shape.__yh && (shape.__yh = this.__yh);\n\n        zlevel = shape.zLevel;\n        layer = this.getLayer(zlevel);\n        //\n\n        //\n        !layer.__dirty && (layer.__dirty = shape.__dirty);\n    }\n};\n\n\n/**\n * ,Layer\n * @param shape {module:ychart/core/graphic/element} \n * @param layer {module:ychart/layer} \n */\nPainter.prototype.preProcessShapeInLayer = function(shape, layer) {\n    var _preProcessShapeInLayer = function(_shape) {\n        if (_shape.parent == null) {\n            _shape.parent = layer;\n        } else if (_shape.parent instanceof Group) {\n            _groupPreProcess(_shape.parent, layer);\n        }\n    };\n\n    /**\n     * parent, . groupparent.\n     * groupLayer.\n     * layer\n     * @param gp group\n     * @param ly (Layer)\n     * @private\n     */\n    var _groupPreProcess = function(gp, ly) {\n        //group,group\n        var groupquene = [];\n        var _buildGroupQuene = function(_group) {\n            if (_group instanceof Group) {\n                groupquene.unshift(_group);\n            }\n            if (_group.parent instanceof Group) {\n                _buildGroupQuene(_group.parent);\n            }\n        };\n        _buildGroupQuene(gp);\n        var before = groupquene[0];\n        groupquene.forEach(function(item, index) {\n            if (index === 0) {\n                item.parent = ly;\n            } else {\n                item.parent = before;\n            }\n            before = item;\n            //\n            item.updateTransform();\n        });\n    };\n\n\n    _preProcessShapeInLayer(shape);\n};\n\n/**\n * \n * @param shape {module:ychart/core/graphic/element} \n * @param layer {module:ychart/layer} \n */\nPainter.prototype.afterProcessShapeInLayer = function(shape) {\n    shape.__dirty = false;\n};\n\n/**\n * zLevelyalerzLevelLayer\n * @param zLevel {string}  \n * @return {module::ychart/layer} Layer\n */\nPainter.prototype.getLayer = function(zLevel) {\n    var layer = this.__layer[zLevel];\n    if (!layer) {\n        layer = new Layer(guid() + \"-zlevel\", zLevel, {\n            width: this.getWidth(),\n            height: this.getHeight(),\n            left: 0,\n            top: 0\n        });\n        this.insertLayer(zLevel, layer);\n        this.__layer[zLevel] = layer;\n    }\n    return layer;\n};\n\n/**\n * \n * @returns {integer} \n */\nPainter.prototype.getWidth = function() {\n    return this.width;\n};\n\n/**\n * \n * @returns {integer} \n */\nPainter.prototype.getHeight = function() {\n    return this.height;\n};\n\n/**\n * \n * canvasDOM\n */\nPainter.prototype.clean = function() {\n    this.width = null;\n    this.height = null;\n\n    //canvas\n    this.origindom.innerHTML = \"\";\n    this.origindom = null;\n};\n\n/**\n * \n */\nPainter.prototype.cleanPainter = function() {\n    this.__layer.forEach(la => la.clear());\n};\n\n/**\n * ,ychart\n * Layer\n * roomcanvas\n * @param {Number} width \n * @param {Number} height \n */\nPainter.prototype.resize = function(width, height) {\n    this.__layer.forEach(la => {\n        la.resize(width, height);\n    });\n    this.width = width;\n    this.height = height;\n    this.refresh();\n};\n\n/**\n * layer\n * @param zLevel {string}  \n * @param layer {module::ychart/layer} Layer\n */\nPainter.prototype.insertLayer = function(zLevel, layer) {\n    var dom = layer.dom;\n    if (this.__layer.length !== 0) {\n        var children = this.container.getElementsByTagName(\"canvas\");\n        var i, len, child;\n        for (i = 0, len = children.length; i < len; i++) {\n            child = children[i];\n            if (zLevel < parseInt(child.getAttribute(\"zLevel\"))) {\n                child.parentNode.insertBefore(dom, child);\n                children = null;\n                return;\n            }\n        }\n    }\n    this.container.appendChild(dom);\n};\n\nexport default Painter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Painter.js","/**\n * canvas layerzIndex\n * @module ychart/layer\n */\nimport {\n    checkNull\n} from \"./tool/util\";\nimport {\n    createDOM,\n    getContext\n} from \"./tool/dom\";\nimport Moveable from \"./core/graphic/mixin/moveable.js\";\nimport Transform from \"./core/graphic/mixin/transform.js\";\nimport {\n    mixin\n} from \"./tool/klass.js\";\n\n/**\n *\n * @class\n * @classdesc  DOMcanvas\n *   layer layerStorage layerPainter\n */\nclass Layer {\n\n    /**\n    * @param id {string} LayerID\n    * @param zLevel {Number}  zLevel\n    * @param opts {object}\n    * @constructor\n    */\n    constructor(id, zLevel, opts) {\n        //ID\n        this.id = id;\n        //DOM. canvas\n        this.dom = document.getElementById(id);\n        //.\n        this.zLevel = zLevel;\n\n        if (checkNull(this.dom)) {\n            this.dom = createDOM(id, \"canvas\", \"layer\", \"absolute\", {left: opts.left || 0,top: opts.top || 0} ,\n                {width: opts.width ,height: opts.height});\n        }\n\n        this.dom.setAttribute(\"zLevel\", zLevel);\n\n        this.ctx = getContext(this.dom);\n\n        this.layerW = opts.width;\n        this.layerH = opts.height;\n\n        if (checkNull(this.ctx)) {\n            alert(\"HTML5 canvas,ychart .  \" );\n            return;\n        }\n\n        //\n        this.__dirty = false;\n\n        Transform.call(this);\n    }\n\n    /**\n     * zlevel\n     * @return {Number} zLevel  \n     */\n    getZlevel() {\n        return this.zLevel;\n    }\n\n    /**\n     * \n     * @returns {CanvasRenderingContext2D}\n     */\n    getContext() {\n        return this.ctx;\n    }\n\n    /**\n     * layer\n     */\n    clear() {\n        this.ctx.clearRect(0, 0, this.layerW, this.layerH);\n    }\n\n    /**\n     * layer canvas\n     *   canvas\n     * @param {Number} width  \n     * @param {Number} height  \n     */\n    resize(width, height) {\n        var dx = width / this.layerW,\n            dy = height / this.layerH;\n\n        this.zoom(dx, dy);\n\n        //layer\n        //Group\n        this.updateTransform();\n\n        this.dom.width = width;\n        this.dom.height = height;\n        this.layerW = width, this.layerH = height;\n    }\n}\n\nmixin(Layer, Transform, true);\nmixin(Layer, Moveable, true);\n\nexport default Layer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Layer.js","function parseInt10(val) {\n    return parseInt(val, 10);\n}\nexport var getPosition = function (id) {\n    var element = typeof id == \"string\" ? document.getElementById(id) : id;\n    var st = document.defaultView.getComputedStyle(element);\n\n    var rect = element.getBoundingClientRect();\n    var scrollTop = document.documentElement.scrollTop ?\n        document.documentElement.scrollTop : document.body.scrollTop;\n    var scrollLeft = document.documentElement.scrollLeft ?\n        document.documentElement.scrollLeft : document.body.scrollLeft;\n    return {\n        width: (element.clientWidth || parseInt10(st.width) || parseInt10(element.style.width) -\n            (parseInt10(st.paddingLeft) || 0) -\n                (parseInt10(st.paddingRight))) || 0,\n\n        height: (element.clientHeight || parseInt10(st.height) || parseInt10(element.style.height) -\n            (parseInt10(st.paddingTop) || 0) -\n                (parseInt10(st.paddingBottom))) || 0,\n        top: rect.top + scrollTop,\n        left: rect.left + scrollLeft\n    };\n};\n\nvar CACHE = {};\n\nexport var getRectByCtx = function(context){\n    let canvas = context.canvas;\n    if(CACHE[canvas]){\n        return CACHE[canvas];\n    }\n    CACHE[canvas] = [canvas.width ,canvas.height];\n    return CACHE[canvas];\n};\n\nexport var doc = function (id) {\n    return document.getElementById(id);\n};\n\n/* eslint-disable */\nexport var createDOM = function (id, type, desc, pos ,style , attr) {\n    var newdom = document.createElement(type);\n    var st = newdom.style;\n    st.position = typeof pos === \"undefined\" ? \"absolute\" : pos;\n    if(style){\n        for(let item in style){\n            if(isNaN(style[item])){\n                st[item] = style[item];\n            }else{\n                st[item] = style[item]+\"px\";\n            }\n        }\n    }\n    if(attr){\n        for(let item in attr){\n            newdom[item] = attr[item];\n        }\n    }\n    newdom.setAttribute(\"ychart-\"+desc, id);\n    return newdom;\n};\n\n\nexport var getContext = function (drawing) {\n    if (drawing && drawing.getContext) {\n        return drawing.getContext(\"2d\");\n    }\n    return null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tool/dom.js","/**\n * canvas\n * @module ychart/Handler\n */\n\nimport eventUtil from \"./tool/event\";\nimport Draggable from \"./core/graphic/mixin/draggable\";\nimport HtmlView from \"./core/graphic/htmlView\";\nimport {DEFAULT_CONFIG} from \"./core/config/config\";\n\nimport {\n    doc\n} from \"./tool/dom\";\nimport {\n    bind1Arg\n} from \"./tool/lang\";\n\n\n//\nvar ALL_EVENT_NAMES = [\"click\", \"mousedown\", \"mousemove\", \"mouseup\", \"focus\"];\n\n//\nvar SPECIAL_EVENT_HANDLERS = {\n\n    //\n    _lastHovered: null,\n\n    //\n    htmlView: null,\n\n    //\n    mousemove: function(exEvent) {\n\n        var ev = exEvent, obj = exEvent.targetEle;\n        //\n        if (this._lastHovered != null && this._lastHovered != obj) {\n            this.triggerProxy(this._lastHovered, \"blur\", ev);\n        }\n        //\n        if (obj) {\n            //\n            this.triggerProxy(obj, \"mousemove\", ev);\n\n            //\n            if(obj.config.tip){\n                if(!this.htmlView){\n                    this.htmlView = new HtmlView({\n                        left: exEvent.clientX+DEFAULT_CONFIG.tipoffsetX,\n                        top: exEvent.clientY+DEFAULT_CONFIG.tipoffsetY\n                    });\n                }else{\n                    this.htmlView.move(exEvent.clientX+DEFAULT_CONFIG.tipoffsetX,\n                        exEvent.clientY+DEFAULT_CONFIG.tipoffsetY);\n                }\n                if(this._lastHovered != obj )\n                    this.htmlView.info(obj.config.tip);\n                this.htmlView.show();\n            }else{\n                this.htmlView && this.htmlView.hide();\n            }\n        } else {\n            //\n            this.htmlView && this.htmlView.hide();\n        }\n        this._lastHovered = obj;\n    },\n\n    mouseout: function(exEvent) {\n        var ev = exEvent;\n        if (this._lastHovered != null) {\n            this.triggerProxy(this._lastHovered, \"globalout\", ev);\n        }\n        this._lastHovered = null;\n        this.htmlView && this.htmlView.hide();\n    }\n\n};\n\n//\nvar COMMON_EVENT_HANDLER = function(name) {\n    return function(exEvent) {\n\n        var ev = exEvent,obj = ev.targetEle;\n\n        //\n        if (obj) {\n            //\n            this.triggerProxy(obj, name, ev);\n        }\n    };\n};\n\n/**\n * @class\n * @classdesc ychart\n * @param root {HTMLElement}  ID\n * @param painter {module:ychart/painter} \n * @param storage {module:ychart/storage} \n */\nvar handlers = function(root, painter, storage) {\n    //\n    this.__storage = storage;\n\n    //\n    this.__painter = painter;\n\n    //\n    this.root = doc(root);\n\n    //\n    this._handlers = {};\n\n    // \n    this._dragmanager = new Draggable();\n\n    this.initHandlers();\n};\n\n\n/**\n * \n * this._handlers\n */\nhandlers.prototype.initHandlers = function() {\n\n    ALL_EVENT_NAMES.forEach(eventName => {\n        //\n        var eventHandler = SPECIAL_EVENT_HANDLERS[eventName] === undefined ? COMMON_EVENT_HANDLER(eventName) :\n            SPECIAL_EVENT_HANDLERS[eventName];\n        //handler.\n        this._handlers[eventName] = bind1Arg(event => {\n\n            //\n            var exEvent = this.extendAndFixEventPackge(event);\n\n            //\n            eventHandler.call(this , exEvent);\n\n            // \n            this._dragmanager.trigger(eventName ,exEvent);\n\n        } , this);\n        eventUtil.addHandler(this.root, eventName, this._handlers[eventName]);\n    });\n};\n\n/**\n * \n * @param event {Event} \n * @returns {exEvent}\n */\nhandlers.prototype.extendAndFixEventPackge = function(event) {\n    //\n    event = eventUtil.clientToLocal(this.root, event, event);\n\n    //\n    event.targetEle = this.getHoverElement(event);\n\n    return event;\n};\n\n/**\n *  \n * @param element {module:ychart/core/graphic/element}  \n * @param eventName {string}  \n * @param exEvent  {exEvent} \n */\nhandlers.prototype.triggerProxy = function(element, eventName, exEvent) {\n    element.trigger && element.trigger(eventName, exEvent, element.config);\n};\n\n/**\n * \n * @param exEvent  {exEvent} \n * @return {module:ychart/core/graphic/element || null} null\n */\nhandlers.prototype.getHoverElement = function(exEvent) {\n    var shapes = this.__storage.getDisplayableShapeList();\n    for (let i = shapes.length-1 ; i >=0; i--) {\n        let sp = shapes[i];\n        if (sp.contain(\n                exEvent.ycX,\n                exEvent.ycY\n            )) {\n            return sp;\n        }\n    }\n    return null;\n};\n\nhandlers.prototype.depose = function () {\n    for(let event in this._handlers){\n        eventUtil.removeHandler(this.root , event ,this._handlers[event]);\n    }\n};\n\nexport default handlers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Reactor.js","var ClientToLocal = function(el, e, out) {\n    out = out || {};\n    var box = el.getBoundingClientRect();\n    out.ycX = e.clientX - box.left;\n    out.ycY = e.clientY - box.top;\n\n    return out;\n};\n\nexport default {\n    addHandler: function(element, type, handler) {\n        element.addEventListener(type, handler, false);\n    },\n    removeHandler: function(element, type, handler) {\n        element.removeEventListener(type, handler);\n    },\n    getEvent: function(event) {\n        return event ? event : window.event;\n    },\n    getTarget: function(event) {\n        return event.target || event.srcElement;\n    },\n    preventDefault: function(event) {\n        if (event.preventDefault) {\n            event.preventDefault();\n        } else {\n            event.returnValue = false;\n        }\n    },\n    stopPropagation: function(event) {\n        if (event.stopPropagation) {\n            event.stopPropagation();\n        } else {\n            event.cancelBubble = true;\n        }\n    },\n    stop: function(event) {\n        this.preventDefault(event);\n        this.stopPropagation(event);\n    },\n    clientToLocal: ClientToLocal\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tool/event.js","/**\n * @module ychart/core/graphic/mixin\n */\n\n\nimport Eventful from \"./eventful\";\nimport {mixin} from \"../../../tool/klass\";\nimport {DEFAULT_CONFIG} from \"../../config/config\";\n\n\n/**\n *  \n * @class\n * @constructor\n */\nvar Draggable = function () {\n    Eventful.call(this);\n\n\n    this.on(\"mousedown\", this._dragStart, this);\n    this.on(\"mousemove\", this._dragIng, this);\n    this.on(\"mouseup\", this._dragEnd, this);\n    this.on(\"globalout\", this._dragEnd, this);\n};\n\n\nDraggable.prototype = {\n    constructor: Draggable,\n\n    _dragDelay: 100,\n\n    _lastClickTime: null,\n\n    /**\n     * \n     * @param {event} exEvent  \n     * @private\n     */\n    _dragStart: function (exEvent) {\n        var target = exEvent.targetEle;\n        this._lastClickTime = new Date();\n        if (target) {\n            this._x = exEvent.offsetX;\n            this._y = exEvent.offsetY;\n            this._dragingTarget = target;\n            this.trigger(target, \"dragStart\", exEvent);\n        }\n    },\n\n    /**\n     * \n     * @param {event} exEvent  \n     * @private\n     */\n    _dragIng: function (exEvent) {\n        var ele = exEvent.targetEle;\n        var target = this._dragingTarget;\n        var crt = new Date();\n        crt = crt - this._lastClickTime;\n        if(ele){\n            if(ele.draggable)\n                exEvent.target.style.cursor = DEFAULT_CONFIG.cursor_moveable;\n            else\n                exEvent.target.style.cursor = DEFAULT_CONFIG.cursor_getable;\n        }else{\n            exEvent.target.style.cursor = DEFAULT_CONFIG.cursor_default;\n        }\n\n        if (target && target.draggable && crt >= this._dragDelay) {\n\n            var x = exEvent.offsetX;\n            var y = exEvent.offsetY;\n\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            //. , . y\n            target.drift(dx, -dy);\n            this.trigger(target, \"draging\", exEvent);\n            // \n            target.ReBrushAll();\n        }\n    },\n\n    /**\n     * \n     * @param {event} exEvent  \n     * @private\n     */\n    _dragEnd: function (exEvent) {\n        exEvent.target.style.cursor =DEFAULT_CONFIG.cursor_default;\n        var target = this._dragingTarget;\n        if (target) {\n            target.dragging = false;\n            this.trigger(target, \"dragend\", exEvent);\n        }\n        this._dragingTarget = null;\n    }\n};\n\n\nmixin(Draggable, Eventful, true);\n\nexport default Draggable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/mixin/draggable.js","/**\n * @module ychart/core/graphic/mixin\n */\n\n\n/**\n * Dispatch\n *  ReactorDispatch\n * @class\n * @mixin\n */\nvar Eventful = function () {\n    this._handlers = {};\n};\n\n/**\n * \n * @param event  \n * @param handler \n * @param context \n * @returns {Eventful}\n */\nEventful.prototype.on = function (event, handler, context) {\n    var h = this._handlers;\n    if (!h || !event || !handler) {\n        return this;\n    }\n\n    if (!h[event]) {\n        h[event] = [];\n    }\n    h[event].push({\n        _h: handler,\n        _one: false,\n        _ctx: context || this  //\n    });\n\n    return this;\n};\n\n/**\n * . trigger\n * @param event  \n * @param handler \n * @param context \n * @returns {Eventful}\n */\nEventful.prototype.once = function (event, handler, context) {\n    var _h = this._handlers;\n\n    if (!handler || !event) {\n        return this;\n    }\n\n    if (!_h[event]) {\n        _h[event] = [];\n    }\n\n    if (_h[event].indexOf(handler) >= 0) {\n        return this;\n    }\n\n    _h[event].push({\n        _h: handler,\n        _one: true,\n        _ctx: context || this  //\n    });\n\n    return this;\n};\n\n/**\n * /\n * @param event  \n * @param handler   \n * @returns {Eventful}\n */\nEventful.prototype.remove = function (event, handler) {\n    if (!event) {\n        this._handlers = {};\n        return this;\n    }\n\n    var hs = this._handlers[event];\n    if (handler) {\n        var i = 0;\n        for (; i < hs.length; i++) {\n            if (hs[i]._h === handler) {\n                break;\n            }\n            hs.splice(i, 1);\n        }\n        if (hs && hs.length == 0) {\n            delete this._handlers[event];\n        }\n    } else {\n        delete this._handlers[event];\n    }\n\n    return this;\n};\n\nvar arrySlice = Array.prototype.slice;\n\n/**\n * \n * @param eventName \n * @returns {Eventful}\n */\nEventful.prototype.trigger = function (eventName) {\n    var handles = this._handlers[eventName];\n    if (handles) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 3) {\n            args = arrySlice.call(args, 1);\n        }\n        //backbone,,\n        handles.forEach(function (item, index, array) {\n            switch (argLen) {\n                case 1:\n                    item._h.call(item._ctx);\n                    break;\n                case 2:\n                    item._h.call(item._ctx, args[1]);\n                    break;\n                case 3:\n                    item._h.call(item._ctx, args[1], args[2]);\n                    break;\n                default:\n                    item._h.apply(item._ctx, args);\n                    break\n            }\n            if (item._one) {\n                array.splice(index, 1);\n            }\n        });\n    }\n    return this;\n};\n\n\nexport default Eventful;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/mixin/eventful.js","/**\n * \n * @global\n * @module ychart/core/config/style\n */\nexport var DEFAULT_CONFIG = {\n    //\n    cursor_default: \"default\",\n    cursor_moveable: \"move\",\n    cursor_getable: \"pointer\",\n\n    //\n    tipoffsetX: 10,\n    tipoffsetY: 0,\n\n    //. , \n    //ViewBuilderYText\n    coordinateSystem: \"Cartesian\"\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/config/config.js","/**\n * HTML\n * @module ychart/core/graphic/htmlVIew\n */\n\nimport View from \"./view\";\nimport {\n    createDOM\n} from \"../../tool/dom\";\n\n/**\n * @private\n */\nclass DomContent{\n    constructor(config) {\n\n        this._root = createDOM(config.id, \"div\", \"htmlView\",\"absolute\", {left: config.left , top: config.top} ,{width: config.width , height: config.height});\n        this._content = document.createElement(\"div\");\n\n        this.init(config);\n    }\n\n    init(config){\n        this._root.style.border = \"solid 1px #efefef\"; this._root.style.backgroundColor = \"white\";\n        this._root.style.padding = \"5px\";\n\n        if(config.title) this._root.appendChild(this.title);\n\n        this._root.appendChild(this._content);\n\n        if(config.footer) this._root.appendChild(this.footer);\n\n        document.body && document.body.appendChild(this._root);\n    }\n\n    get title(){\n        return document.createElement(\"div\");\n    }\n    get content(){\n        return this._content.innerHTML;\n    }\n    set content(html){\n        this._content.innerHTML = html;\n    }\n    get footer(){\n        return document.createElement(\"div\");\n    }\n    show(){\n        this._root.style.visibility = \"visible\";\n    }\n    hide(){\n        this._root.style.visibility = \"hidden\";\n    }\n    move(x,y){\n        this._root.style.left = x+\"px\";\n        this._root.style.top = y+\"px\";\n    }\n}\n\n\n/**\n * @classdesc HTMLcontextView\n * ContextView\n * @class\n */\nexport default class HtmlView extends View {\n    constructor( option = {}) {\n        super(\"HtmlView\",option);\n\n        /**\n         * DOM\n         * @member {HTMLDOMElement}\n         */\n        this._domcontent = new DomContent({\n            id: this.id+\"Parent\",\n            width: option.width || 0,\n            height: option.height || 0,\n            left: option.left || 0,\n            top: option.top || 0\n        });\n    }\n\n    /**\n     * HtmlView\n     * @method\n     */\n    show() {\n        this._domcontent.show();\n    }\n\n    /**\n     * HTML\n     * @param info {HTMLString} HTML\n     */\n    info(info){\n        this._domcontent.content = info;\n    }\n\n    /**\n     * HtmlVIew\n     * @method\n     */\n    hide() {\n        this._domcontent.hide();\n    }\n\n    /**\n     * \n     * @param x {number} X \n     * @param y {number}  Y \n     */\n    move(x , y){\n        this._domcontent.move(x , y);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/htmlView.js","/**\n * View\n * @module ychart/core/graphic/view\n */\n\nimport Element from \"./element\";\n/**\n * @class\n * @classdesc  \n * @abstract\n */\nclass View extends Element {\n\n    /**\n     * \n     * @constructor\n     * @param {String} type view\n     * @param {Object} option\n     */\n    constructor(type = \"view\", option = {}) {\n        super(type);\n\n        /**\n         * \n         * @member {boolean}  true\n         * @private\n         */\n        this.__dirty = true;\n\n        /**\n         * \n         * @member {object} null\n         */\n        this.parent = null;\n\n        /**\n         *  \n         * @member {boolean}\n         */\n        this.ignore = option.ignore || false;\n    }\n\n    /**\n     *  \n     * @abstract\n     * @param {Object} option \n     * @throws Error  \n     */\n    /* eslint-disable */\n    Brush(option) {\n        throw new Error(\"\");\n    }\n    /* eslint-enable */\n}\n\nexport default View;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/view.js","export var throwFunc = function(str) {\n    throw str;\n};\n\nexport var noOp = function() {};\n\nexport var bind1Arg = function(handler, context) {\n    return function(arg1) {\n        return handler.call(context, arg1);\n    };\n};\n\nimport {isArr} from \"./util\";\n\n/**\n * \n * @param {} ctx \n * @param {HTMLElement} \n * @param {Function | Array.{Function}}  [,]\n * @param {Function} \n */\nvar onreadyCallback = function(ctx, element, callback ,loadMethod) {\n    var notCompleteCb = isArr(callback) ? callback[1] : noOp;\n    var completeCb = isArr(callback) ? callback[0] : noOp;\n    if (loadMethod(element)) {\n        completeCb.call(ctx);\n        return;\n    }\n    let timer = setInterval(function() {\n        if (loadMethod(element)) {\n            notCompleteCb.call(ctx);\n            clearInterval(timer);\n            return;\n        }}, 150);\n};\n\nexport var onImgReady = function(ctx , element , callback){\n    var isImageLoaded = function(imgElement){\n        return imgElement.complete && imgElement.naturalHeight !== 0;\n    };\n    onreadyCallback(ctx,element,callback,isImageLoaded);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tool/lang.js","/**\n * \n * @module ychart/shape/Besier\n */\nimport debugs from \"../tool/debug\"\nimport ShapeBuilder from \"../core/viewBuilder\"\n\nvar warn = debugs.warn;\nvar insiderange = function (val, rg1, rg2) {\n    return val < rg1 || val > rg2;\n};\nvar sqrt = function (val) {\n    return Math.sqrt(val);\n};\nvar abs = function (val) {\n    return Math.abs(val);\n};\nvar atan = function (val) {\n    return Math.atan(val);\n};\nvar sin = function (val) {\n    return Math.sin(val);\n};\nvar cos = function (val) {\n    return Math.cos(val);\n};\nvar floor = function (val) {\n    return Math.floor(val);\n};\nvar radian2angle = function (radian) {\n    return radian * 180 / Math.PI;\n};\n\n/**\n *\n * @class Bezier\n * @classdesc . context.\n * @property {Array.number} beginpt x,y  \n * @property {Array.number} endpt    x,y \n * @property {number} compact 0-10  ,\n * @property {number} systole 0-4 , . 1.1.1-4\n * @constructor Bezier\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"BezierPath\",\n\n    BuildPath: function (ctx, config) {\n        var beginpt = config.beginpt, endpt = config.endpt, compact = config.compact || 5, systole = config.systole;\n\n        var linequadrant = function () {\n            if (beginpt[0] < endpt[0] && beginpt[1] >= endpt[1]) return 1;\n            if (beginpt[0] >= endpt[0] && beginpt[1] > endpt[1]) return 2;\n            if (beginpt[0] > endpt[0] && beginpt[1] <= endpt[1]) return 3;\n            if (beginpt[0] <= endpt[0] && beginpt[1] < endpt[1]) return 4;\n        }();\n        var nextx = function (x, dis) {\n            return beginpt[0] <= endpt[0] ? x + dis : x - dis;\n        };\n        var nexty = function (y, dis) {\n            return beginpt[1] <= endpt[1] ? y + dis : y - dis;\n        };\n        var nexpt_ct = function (pt, dispt, leftorright) {\n            var getrs = function (disx, disy) {\n                if (leftorright === 0) {\n                    return {\n                        x: pt[0] + disx,\n                        y: pt[1] + disy\n                    };\n                } else if (leftorright == 1) {\n                    return {\n                        x: pt[0] - disx,\n                        y: pt[1] - disy\n                    };\n                } else {\n                    warn(\"\");\n                    return null;\n                }\n            };\n            switch (linequadrant) {\n                case 1:\n                    return getrs(-dispt[0], -dispt[1]);\n                case 2:\n                    return getrs(-dispt[0], dispt[1]);\n                case 3:\n                    return getrs(dispt[0], dispt[1]);\n                case 4:\n                    return getrs(dispt[0], -dispt[1]);\n            }\n        };\n        if (insiderange(compact, 1, 10) || insiderange(systole, 0, 4)) {\n            warn(\"\");\n            return;\n        }\n        var piece = 2 * compact;\n        var dispiece = sqrt(this.getDistance(beginpt, endpt) / piece);\n        var h = dispiece / 2 * systole;\n        var linevert_angleor = atan(abs(endpt[0] - beginpt[0]) / abs(endpt[1] - beginpt[1]));\n\n        var linectx_dis = abs(endpt[0] - beginpt[0]) / piece;\n        var linecty_dis = abs(endpt[1] - beginpt[1]) / piece;\n\n        var allctpt = [];\n        var allctinlinept = [];\n        var alllinectpt = [];\n        alllinectpt.push({\n            x: beginpt[0],\n            y: beginpt[1]\n        }, {\n            x: nextx(beginpt[0], linectx_dis),\n            y: nexty(beginpt[1], linecty_dis)\n        });\n        allctinlinept.push({\n            x: nextx(beginpt[0], linectx_dis / 2),\n            y: nexty(beginpt[1], linecty_dis / 2)\n        }, {\n            x: nextx(nextx(beginpt[0], linectx_dis / 2), linectx_dis),\n            y: nexty(nexty(beginpt[1], linecty_dis / 2), linecty_dis)\n        });\n        var dispt = {\n            x: cos(linevert_angleor) * h,\n            y: sin(linevert_angleor) * h\n        };\n        allctpt.push(nexpt_ct(allctinlinept[0], dispt, 0), nexpt_ct(allctinlinept[1], dispt, 1));\n        var i;\n        for (i = 2; i < piece; i++) {\n            allctinlinept.push({\n                x: nextx(allctinlinept[i - 1][0], linectx_dis),\n                y: nexty(allctinlinept[i - 1][1], linecty_dis)\n            });\n            alllinectpt.push({\n                x: nextx(alllinectpt[i - 1][0], linectx_dis),\n                y: nexty(alllinectpt[i - 1][1], linecty_dis)\n            });\n            allctpt.push(nexpt_ct(allctinlinept[i], dispt, i % 2));\n        }\n        //\n        alllinectpt.push({\n            x: nextx(alllinectpt[i - 1][0], linectx_dis),\n            y: nexty(alllinectpt[i - 1][1], linecty_dis)\n        });\n\n        ctx.moveTo(beginpt[0], beginpt[1]);\n        for (i = 1; i < allctpt.length; i++) {\n            ctx.quadraticCurveTo(allctpt[i - 1][0], allctpt[i - 1][1], alllinectpt[i][0], alllinectpt[i][1]);\n        }\n        ctx.quadraticCurveTo(allctpt[i - 1][0], allctpt[i - 1][1], alllinectpt[i][0], alllinectpt[i][1]);\n\n        config.style.brushType = \"stroke\";\n\n    }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/Bezier.js","import {isObj,isArr} from \"./util\";\n\nvar dbpre = \"DamJs Debug Info :    \";\nvar wnpre = \"DamJs warn Info :    \";\nvar dbprespace = function () {\n    var i = 0, rs = \"      \";\n    for (i = 0; i < dbpre.length; i++) {\n        rs += \" \";\n    }\n    return rs;\n}();\n\nvar debug = function (info) {\n    console.log(dbpre + info);\n};\n\nvar warn = function (info) {\n    console.log(wnpre + info);\n};\n\nvar isobj = false;\nvar printobj = function (obj) {\n    function _printObj(obj) {\n        var ele;\n        if (isObj(obj)) {\n            for (ele in obj) {\n                if (isObj(obj[ele])) {\n                    debug(ele + \" : \");\n                    isobj = true;\n                    printobj(obj[ele]);\n                    isobj = false;\n                } else {\n                    if (isobj) {\n                        console.log(dbprespace + ele + \" : \" + obj[ele]);\n                    }\n                    else\n                        debug(ele + \" : \" + obj[ele]);\n                }\n            }\n        } else if (isArr(obj)) {\n            var len = obj.length;\n            for (var i = 0; i < len; i++) {\n                printobj(obj[i]);\n            }\n        }\n    }\n\n    _printObj(obj);\n    isobj = false;\n};\n\nexport default {\n    printobj,\n    debug,\n    warn\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/tool/debug.js","/**\n * \n * @module  ychart/graphic/viewBuilder\n */\nimport ContextView from \"./graphic/contextView\";\nimport { isType ,isFunc} from \"../tool/util\";\nimport debugs from \"../tool/debug\";\nimport {DEFAULT_CONFIG} from \"./config/config\";\n\nvar REQUIRED_CHILD = {\n    type: \"String\",\n    BuildPath: \"Function\"\n};\n\n\n/**\n * @description canvas \n * @param {object} defaults \n * @returns {BaseContextView} \n */\nvar baseContextViewExtend = function (defaults) {\n    if (debugs.open) {\n        for (var item in REQUIRED_CHILD) {\n            if (!isType(REQUIRED_CHILD[item])(defaults[item])) {\n                debugs.debug(\"\" + item + \"  \"\n                    + REQUIRED_CHILD[item] + \" : \" + (typeof defaults[item]));\n                debugs.printobj(defaults);\n                return null;\n            }\n        }\n    }\n\n    /**\n     * @class\n     * @classdesc ychart.\n     */\n    class BaseContextView extends ContextView {\n        constructor(baseOption) {\n            super(defaults.type, baseOption);\n            if(isFunc(defaults[\"Init\"])){\n                defaults[\"Init\"].call(this,baseOption);\n            }\n        }\n\n        setDefaultConfig(config){\n            //ychart\n            this.__yh = config.yh;\n            if(DEFAULT_CONFIG.coordinateSystem == \"Cartesian\")\n                //\n                this._setDefaultTrasformToCartesian(config.height);\n        }\n\n        /* eslint-disable*/\n        BuildPath(ctx , config){\n            throw new Error(\" unsurported operation -- can't build shape path\");\n        }\n        /* eslint-enable */\n        /**\n         * . .\n         *  @see{CanvasRenderingContext2D} \n         * .\n         * @private\n         * @param position  \n         * @param scale  \n         */\n        _setDefaultTrasformToCartesian(height){\n            this.position = [0 , height];\n            this.scale = [1,-1];\n        }\n    }\n\n    for(var prop in defaults){\n        BaseContextView.prototype[prop] = defaults[prop];\n    }\n\n    return BaseContextView;\n};\n\nexport default {\n    baseContextViewExtend\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/viewBuilder.js","/**\n * canvas\n * @module ychart/core/graphic/contextview\n */\n\nimport View from \"./view\";\nimport Transform from \"./mixin/transform\";\nimport Eventful from \"./mixin/eventful\";\nimport Moveable from \"./mixin/moveable\";\nimport OptionProxy from \"../config/OptionProxy\";\nimport text from \"./helper/text\";\n\nimport {\n    mixin\n} from \"../../tool/klass\";\n\nimport {\n    isPtInPath,\n    isPtInRect\n} from \"./helper/viewutil\";\n\nimport {\n    getRectByCtx\n} from \"../../tool/dom.js\";\n\n/**\n * @classdesc canvasCanvasRenderingContext2D,\n *  \n * \n * @class\n * @abstract\n */\nclass ContextView extends View {\n\n    /**\n     * @param {String} type  . ContextView\n     * @param {Object} option  \n     * @constructor\n     */\n    constructor(type = \"ContextView\", option = {}) {\n        super(type, option);\n\n        this.configProxy = new OptionProxy(this.defaultConfig, option);\n\n        /**\n         * \n         * ychart\n         * @member {object}\n         * @private\n         */\n        this.__yh = null;\n\n        Transform.call(this, option);\n        Eventful.call(this);\n    }\n\n    /**\n     *\n     * @property {boolean} Draggable \n     * @default true\n     */\n    get draggable() {\n        return this.config.draggable === undefined ? true : this.config.draggable;\n    }\n\n    /**\n     * canvas\n     * @property {Number} zLevel\n     * @default 0\n     */\n    get zLevel() {\n        return this.config.zLevel || 0;\n    }\n\n    /**\n     * @property {Object} config shapa\n     * @returns {Object}\n     */\n    get config() {\n        return this.configProxy.getConfig();\n    }\n\n    /**\n     * @property {boolean} getable \n     * @default true\n     * @return boolean\n     */\n    get getable() {\n        return typeof this.config.getable === \"undefined\" ? true : this.config.getable;\n    }\n\n    /**\n     * ychart. \\\n     */\n    ReBrushAll() {\n        this.__yh && this.__yh.update();\n    }\n\n    /**\n     * context\n     * @method\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    /* eslint-disable */\n    BeforeBrush(ctx, config) {}\n\n    /**\n     * context\n     * @method\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    AfterBrush(ctx, config) {}\n\n    /**\n     * \n     * @return {Array.<Number>} rect\n     */\n    GetContainRect() { return this.rect; }\n    /*eslint-enable */\n\n    /**\n     * canvas\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    getRectByCtx(ctx) {\n        return getRectByCtx(ctx);\n    }\n\n\n    /**\n     * context\n     * @method\n     * @private\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    _BeforeBrush(ctx, config) {\n        ctx.save();\n        //\n        this._SetShapeTransform(ctx, config);\n        //. BuildPath\n        this.configProxy.bindContext(ctx);\n        //API\n        this.BeforeBrush(ctx, config);\n\n        ctx.beginPath();\n    }\n\n    /**\n     * \n     * @method\n     * @private\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    _SetShapeTransform(ctx) {\n        this.updateTransform();\n        this.setTransform(ctx);\n    }\n\n    /**\n     * context\n     * @method\n     * @private\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    _AfterBrush(ctx, config) {\n        var tp = this.configProxy.getBrushType();\n        /* eslint-disable */\n        switch (tp) {\n            case \"both\":\n            case \"all\":\n                ctx.fill();\n                ctx.stroke();\n                break;\n            case \"stroke\":\n                ctx.stroke();\n                break;\n            case \"fill\":\n                ctx.fill();\n                break;\n            case \"none\":\n                break;\n            default:\n                ctx.fill();\n                break;\n        }\n        /* eslint-enable */\n        ctx.restore();\n        this.AfterBrush(ctx, config);\n    }\n\n    /**\n     *  \n     * @abstract\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {object} config --\n     */\n    _BuildPath(ctx, config) {\n        //\n        this.BuildPath(ctx, config);\n        if(this.__dirty){\n            this.AfterFirstBuildPath();\n        }\n    }\n\n\n\n    AfterFirstBuildPath(){}\n\n\n    /**\n     *  \n     * @method\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    Brush(ctx) {\n        var config = this.config;\n        if (!config.ignore) {\n            //\n            this._BeforeBrush(ctx, config);\n            //\n            this._BuildPath(ctx, config);\n            //\n            this._AfterBrush(ctx, config);\n\n            this.DrawText(ctx, config);\n        }\n    }\n\n    /**\n     *  \n     * @param {object} option\n     */\n    setOption(option) {\n        this.configProxy.update(option);\n        this.__dirty = true;\n    }\n\n    /**\n     * .\n     * @see {GetContainRect} , @see {_isPtInPath} \n     * @param {Number} x   x\n     * @param {Number} y   y\n     */\n    contain(x, y) {\n        var local = this.transformCoordToLocal(x, y);\n        //containRect, \n        return this.getable &&\n            (isPtInRect(this.GetContainRect(), local[0], local[1]) &&\n                this._isPtInPath(x, y));\n    }\n\n    /**\n     * \n     * @param x\n     * @param y\n     * @private\n     */\n    _isPtInPath(x,y){\n        return isPtInPath(this, this.config, x, y);\n    }\n\n    /**\n     * \n     * @param {CanvasRenderingContext2D} ctx\n     * @param {object} config --\n     */\n    DrawText(ctx, config) {\n        if (!config.text) {\n            return;\n        }\n        var crect = this.GetContainRect();\n        if (!crect) {\n            return;\n        }\n        var x = crect[0] + (crect[2] - crect[0]) / 2;\n        var y = crect[1] + (crect[3] - crect[1]) / 2;\n\n        var st = this.configProxy.getStyle();\n        /* eslint-disable */\n        var textw = text.getTextWidth(config.text, st.font);\n        var texth = text.getTextHeight(config.text ,st.font);\n        var textAlign = st.textAlign , textBaseline = st.textBaseline;\n        switch (config.textpos) {\n            case \"bottom-center\":\n                y = crect[1];\n                textAlign = \"center\";\n                break;\n            case \"top-center\":\n                //y = crect[3];\n                //textAlign = \"center\";\n                //x = crect[2];\n                textAlign = \"center\";\n                y = crect[1];\n                break;\n\n            case \"top-left\":\n            case \"left-top\":\n                x = crect[0];\n                y = crect[1];\n                break;\n            case \"bottom-right\":\n            case \"right-bottom\":\n                x = crect[2] - textw;\n                y = crect[1];\n                break;\n            case \"left-center\":\n                x = crect[0];\n                textAlign = \"left\";\n                textBaseline = \"middle\";\n                break;\n            case \"left-bottom\":\n            case \"bottom-left\":\n                x = crect[0];\n                y = crect[3];\n                break;\n            case \"top-right\":\n            case \"right-top\":\n                y = crect[3];\n                x = crect[2]-textw;\n                break;\n            case \"right-center\":\n                x = crect[2]-textw;\n                y -= texth/2;\n                break;\n            default:\n                textAlign = \"center\";\n                textBaseline = \"middle\";\n        }\n        /* eslint-disable */\n        ctx.save();\n        //\n        if (st.textColor) {\n            ctx.fillStyle = st.textColor;\n        }\n        //\n        var globalTextPos = this.transformCoordToGlobal(x,y);\n        x = globalTextPos[0] ,y=globalTextPos[1];\n\n        text.fillText(ctx, config.text, x, y, st.font, textAlign, textBaseline);\n\n        ctx.restore();\n    }\n}\n\n\nmixin(ContextView, Transform, true);\nmixin(ContextView, Eventful, true);\nmixin(ContextView, Moveable, true);\n\nexport default ContextView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/contextView.js","/**\n *   {@link module:ychart/core/config/styleProxy}\n * @module ychart/core/config/optionProxy\n */\n\n\nimport styleProxy from \"./StyleProxy\";\n\nimport { simpleMerge } from \"../../tool/util\";\n\n/**\n * \n *  \n * styleProxy \n *\n * @class\n * @param config\n */\nvar OptionProxy = function(...options) {\n    /**\n     * \n     * @member {boolean}\n     * @default null\n     */\n    this.styleProxy = new styleProxy();\n\n\n    /**\n     * \n     *   style  \n     * @member {object}\n     */\n    this.config = {\n    };\n\n    var _this = this;\n    Object.defineProperty(this.config , \"style\" ,{\n        enumerable : true,\n        configurable : false,\n        get: function(){\n            return _this.styleProxy.getStyle();\n        },\n        set: function (val) {\n            _this.styleProxy.update(val);\n        }\n    });\n\n    this.update(options);\n};\n\n\n/**\n * \n * @returns {object} config\n */\nOptionProxy.prototype.getConfig = function() {\n    return this.config;\n};\n\n/**\n * \n * @returns {OptionProxy.config.style|{}}\n */\nOptionProxy.prototype.getStyle = function() {\n    return this.config.style || {};\n};\n\n/**\n * \n * @param context\n */\nOptionProxy.prototype.bindContext = function(context) {\n    this.styleProxy.bindContext(context);\n};\n\n/**\n * AfterBrush\n * @return {string} , 'both' \\  'stroke' \\ 'fill' \\ 'none'\n */\nOptionProxy.prototype.getBrushType = function() {\n    return this.styleProxy.getBrushType();\n};\n\n/**\n * \n * @param option\n */\nOptionProxy.prototype.update = function(config) {\n    simpleMerge(this.config , config);\n};\n\n\nexport default OptionProxy;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/config/OptionProxy.js","/**\n * \n *\n */\nimport {isObj, merge} from \"../../tool/util\";\nimport Style from \"./style\";\n\nvar defaultStyle = Style.style;\nvar styleMapper = Style.styleMap;\n\n/**\n *  \n * @class\n */\nvar StyleProxy = function (style) {\n    style = style || {};\n    this.style = merge(new defaultStyle(), style, true, styleMapper);\n    this.brushType = null;\n    this.init(style);\n};\n\nStyleProxy.prototype.init = function (style) {\n    this.brushType = style.brushType ? style.brushType :\n        (style.strokeStyle ?\n            (style.fillStyle ? \"both\" : \"stroke\") :\n            (style.fillStyle ? \"fill\" : \"none\")    );\n};\n\nStyleProxy.prototype.bindContext = function (ctx) {\n    var style = this.style;\n    for (var prop in this.style) {\n        ctx[prop] = this.style[prop];\n    }\n    // fillStyle\n    if (isObj(style.gradient)) {\n        var _gradient = ctx.createLinearGradient(style.gradient.beginpt[0], style.gradient.beginpt[1],\n            style.gradient.endpt[0], style.gradient.endpt[1]);\n\n        _gradient.addColorStop(0, style.gradient.beginColor);\n        _gradient.addColorStop(1, style.gradient.endColor);\n        ctx.fillStyle = _gradient;\n    }\n};\n\nStyleProxy.prototype.update = function (_style) {\n    if (_style) {\n        merge(this.style, _style, true, styleMapper);\n        this.init(_style);\n    }\n};\n\nStyleProxy.prototype.getBrushType = function () {\n    return this.brushType;\n};\n\nStyleProxy.prototype.getStyle = function () {\n    return this.style;\n};\n\nexport default StyleProxy;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/config/StyleProxy.js","/**\n * \n * @module ychart/core/config/style\n */\nvar styleMap = {\n\n    fillStyle: \"fillStyle\",\n    fillColor: \"fillStyle\",\n    color: \"fillStyle\",\n\n    strokeStyle: \"strokeStyle\",\n    lineColor: \"strokeStyle\",\n    lineWidth: \"lineWidth\",\n    lineCap: \"lineCap\",\n    lineJoin: \"lineJoin\",\n    font: \"font\",\n\n    textAlign: \"textAlign\",\n    textBaseline: \"textBaseline\",\n\n    shadowColor: \"shadowColor\",\n    shadowOffsetX: \"shadowOffsetX\",\n    shadowOffsetY: \"shadowOffsetY\",\n    shadowBlur: \"shadowBlur\",\n    shadowx: \"shadowOffsetX\",\n    shadowy: \"shadowOffsetY\",\n\n    globalAlpha: \"globalAlpha\",\n    alpha: \"globalAlpha\",\n    globalCompositionOperation: \"globalCompositionOperation\",\n    overlaystyle: \"globalCompositionOperation\"\n};\n\n\n/**\n * @classdesc  \n * \n * canvas.\n * \n * CONFIGstyle\n * @class\n */\nvar style = function () {\n};\n\n\nstyle.prototype = {\n    /**\n     * \n     * \n     *  : lineColor\n     * @type string\n     * @default blue\n     */\n    strokeStyle: \"blue\",\n\n    /**\n     * fill\n     * \n     *   fillColor  color\n     * @type string\n     * @default #dcd5d9\n     */\n    fillStyle: \"#dcd5d9\",\n\n    /**\n     * \n     * @type number\n     * @default 1\n     */\n    lineWidth: 1,\n\n    /**\n     * . buttroundsquare\n     * @type string\n     * @default round\n     */\n    lineCap: \"round\",\n\n    /**\n     * bevel,miter. ,.\n     * @type string\n     * @default round\n     */\n    lineJoin: \"round\",\n\n    /**\n     * \n     * @type string\n     * @default bold 14px Arial, Helvetica, sans-serif, Times, serif\n     */\n    font: \"bold 14px Arial, Helvetica, sans-serif, Times, serif\",\n\n    /**\n     *  strokeStyle\n     * canvasycharts\n     * @type string\n     * @default black\n     */\n    textColor: \"black\", // canvas\n\n    /**\n     * \n     * @type string\n     * @default start\n     */\n    textAlign: \"start\",\n\n    /**\n     * \n     * @type string\n     * @default bottom\n     */\n    textBaseline: \"bottom\",\n\n    /**\n     * \n     * @type string\n     * @default #EA9090\n     */\n    shadowColor: \"#EA9090\",\n\n    /**\n     * X\n     * @type number\n     * @default  shadowOffsetX\n     */\n    shadowOffsetX: 0,\n\n    /**\n     * Y\n     * @type number\n     * @default shadowOffsetY\n     */\n    shadowOffsetY: 0,\n\n    /**\n     * \n     * @type number\n     * @default 0\n     */\n    shadowBlur: 0,\n\n    /**\n     *   0\n     * @type number\n     * @default 1\n     */\n    globalAlpha: 1,\n\n    /**\n     * \n     * @type string\n     * @default source-over\n     */\n    globalCompositionOperation: \"source-over\"\n\n};\n\n\nexport default {\n    style: style,\n    styleMap: styleMap\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/config/style.js","//\n\nimport Style from \"../../config/style\";\nimport {\n    getContext\n} from \"./viewutil\";\n\nvar st = new Style.style();\n\nvar defaultFont = st.font;\nvar defaultAlign = st.textAlign;\nvar defaultBaseline = st.textBaseline;\n\nvar _ctx = getContext();\n\nvar TextUtil = {\n    TEXT_CACHE_MAX: 5000,\n\n    _textHeightCache: [],\n    _textHeightCacheCounter: 0,\n\n    getTextHeight: function(text, textFont) {\n        textFont = textFont || defaultFont;\n        var key = text + \":\" + textFont;\n        if (TextUtil._textHeightCache[key]) {\n            return TextUtil._textHeightCache[key];\n        }\n\n        _ctx.save();\n        if (textFont) {\n            _ctx.font = textFont;\n        }\n\n        text = (text + \"\").split(\"\\n\");\n        // \n        var height = (_ctx.measureText(\"\").width + 2) * text.length;\n\n        _ctx.restore();\n\n        TextUtil._textHeightCache[key] = height;\n        if (++TextUtil._textHeightCacheCounter > TextUtil.TEXT_CACHE_MAX) {\n            // \n            TextUtil._textHeightCacheCounter = 0;\n            TextUtil._textHeightCache = {};\n        }\n        return height;\n    },\n    _textWidthCache: [],\n    _textWidthCacheCounter: 0,\n\n    getTextWidth: function(text, textFont) {\n\n        textFont = textFont || defaultFont;\n        var key = text + \":\" + textFont;\n        if (TextUtil._textWidthCache[key]) {\n            return TextUtil._textWidthCache[key];\n        }\n        _ctx.save();\n\n        if (textFont) {\n            _ctx.font = textFont;\n        }\n\n        text = (text + \"\").split(\"\\n\");\n        var width = 0;\n        for (var i = 0, l = text.length; i < l; i++) {\n            width = Math.max(\n                _ctx.measureText(text[i]).width,\n                width\n            );\n        }\n        _ctx.restore();\n\n        TextUtil._textWidthCache[key] = width;\n        if (++TextUtil._textWidthCacheCounter > TextUtil.TEXT_CACHE_MAX) {\n            // \n            TextUtil._textWidthCacheCounter = 0;\n            TextUtil._textWidthCache = {};\n        }\n\n        return width;\n    },\n    /*\n     * @param {Canvas} ctx \n     * @param {string} text \n     * @param {number} x X\n     * @param {number} y Y\n     * @param {string} textFont \n     */\n    getTextRect: function(text, x, y, textFont, textAlign, textBaseline) {\n        textFont = textFont || defaultFont;\n        textAlign = textAlign || defaultAlign;\n        textBaseline = textBaseline || defaultBaseline;\n\n        var width = TextUtil.getTextWidth(text, textFont);\n        var lineHeight = TextUtil.getTextHeight(\"\", textFont);\n\n        text = (text + \"\").split(\"\\n\");\n\n        switch (textAlign) {\n        case \"end\":\n        case \"right\":\n            x -= width;\n            break;\n        case \"center\":\n            x -= (width / 2);\n            break;\n        }\n\n        switch (textBaseline) {\n        case \"top\":\n            break;\n        case \"bottom\":\n            y -= lineHeight * text.length;\n            break;\n        default:\n            y -= lineHeight * text.length / 2;\n        }\n\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: lineHeight * text.length\n        };\n    }\n};\n\n\nfunction _fillText(ctx, text, x, y, textFont, textAlign, textBaseline) {\n    if (textFont) {\n        ctx.font = textFont;\n    }\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n\n    var rect = TextUtil.getTextRect( text, x, y, textFont, textAlign, textBaseline );\n\n    text = (text + \"\").split(\"\\n\");\n\n    var lineHeight = TextUtil.getTextHeight(\"\", textFont);\n    var _left = rect.x , _right = _left + rect.width;\n    var _top = y + lineHeight*text.length , _bottom = y;\n    switch (textBaseline) {\n    case \"top\":\n        y = rect.y;\n        _top = y;\n        _bottom = y + lineHeight*text.length;\n        break;\n    case \"bottom\":\n        y = rect.y + lineHeight;\n        break;\n    default:\n        y = rect.y + lineHeight / 2;\n    }\n    for (var i = 0, l = text.length; i < l; i++) {\n        ctx.fillText(text[i], x, y);\n        y += lineHeight;\n    }\n\n    return {\n        left: _left,\n        bottom:_bottom,\n        top: _top,\n        right: _right\n    };\n}\n\nexport default {\n    fillText: _fillText,\n    getTextRect: TextUtil.getTextRect,\n    getTextWidth: TextUtil.getTextWidth,\n    getTextHeight: TextUtil.getTextHeight\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/helper/text.js","//isPointInStrokeIE\nif (typeof CanvasRenderingContext2D.prototype.isPointInStroke == \"undefined\") {\n    CanvasRenderingContext2D.prototype.isPointInStroke = function(path, x, y) {\n        return this.isPointInPath(x, y);\n    };\n}\n\nvar _ctx = null;\n\nfunction createCanvas() {\n    return document.createElement(\"canvas\");\n}\n\nexport var getContext = function() {\n    if (!_ctx) {\n        _ctx = createCanvas().getContext(\"2d\");\n    }\n    return _ctx;\n};\n\nexport var isPtInRect = function(rect, x, y) {\n    return rect && (rect[0] <= x &&\n                    rect[2] >= x &&\n                    rect[1] <= y &&\n                    rect[3] >= y);\n};\n\n//todo \nexport var isPtInPath = function(shape, config, x, y) {\n    var ctx = getContext();\n    ctx.save();\n    //\n    shape._BeforeBrush(ctx, config);\n    //\n    shape.BuildPath(ctx, config);\n    var rs;\n    var type = shape.configProxy.getBrushType();\n    //+isPointInPath\n    if (type == \"all\" || type == \"fill\") {\n        rs = ctx.isPointInPath(x, y);\n    } else {\n        rs = ctx.isPointInStroke(x, y);\n    }\n    ctx.restore();\n    return rs;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/graphic/helper/viewutil.js","/**\n * \n * @module ychart/shape/Circle\n */\n\nimport ShapeBuilder from \"../core/viewBuilder\";\n/* import {PIx2} from \"../tool/math\"; */\n\n/**\n * \n * @class Circle\n * @property {number} x x\n * @property {number} y y\n * @property {number} r \n * @constructor Circle\n * */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    /**\n     *   \n     * @param {object} option  \n     * @private\n     */\n    // Init: function (config) {\n        // this.origin = [config.x,config.y];\n    // },\n\n    type: \"Circle\",\n\n    BuildPath: function (ctx, config) {\n        var x = parseFloat(config.x) , y=parseFloat(config.y), radius=parseFloat(config.r);\n        // ctx.moveTo(x,y+radius);\n        ctx.arc(x,y,radius,0,2*Math.PI,false);\n        /* var x = parseFloat(config.x) , y=parseFloat(config.y), r=parseFloat(config.r);\n        ctx.moveTo(x,y);\n        ctx.arc(0,0,r ,0, Math.PI*2,false);*/\n        this.rect = [config.x - config.r,config.y-config.r ,config.x+config.r,config.y+config.r];\n    }\n\n\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/Circle.js","/**\n * \n * @module ychart/shape/Line\n */\nimport ShapeBuilder from \"../core/viewBuilder\";\n\n/**\n * \n * @class Line\n * @property {number} x0 , y0 \n * @property {number} x1 ,y1 \n * @property {number} splitnum  .\n * @constructor Line\n * @extends ContextView\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"Line\",\n\n    BuildPath: function(ctx, config) {\n        if (config.splitnum) {\n            var splitnum = config.splitnum || 1;\n            var splitlen_x = (config.x1 - config.x0) / splitnum / 2;\n            var splitlen_y = (config.y1 - config.y0) / splitnum / 2;\n            for (var i = 0; i < splitnum; i++) {\n                ctx.moveTo(config.x0 + i * 2 * splitlen_x, config.y0 + i * 2 * splitlen_y);\n                ctx.lineTo(config.x0 + i * 2 * splitlen_x + splitlen_x, config.y0+ i * 2 * splitlen_y + splitlen_y);\n            }\n        } else {\n            ctx.moveTo(config.x0, config.y0);\n            ctx.lineTo(config.x1, config.y1);\n        }\n        this.rect = [config.x0 , config.y0 ,config.x1,config.y1];\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/Line.js","/**\n * \n * @module ychart/shape/Rect\n */\n\nimport ShapeBuilder from \"../core/viewBuilder\";\n\nvar minx = 99999,\n    miny = 99999,\n    maxx = -99999,\n    maxy = -99999;\n\n/**\n * @class Rect\n * @classdesc . \n * @property  {Array.number}  allpt [[0,0],[10,10]]\n * @property  {boolean} notClose .\n * @constructor Rect\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"Rect\",\n\n    BuildPath: function(ctx, config) {\n        ctx.moveTo(config.pts[0][0], config.pts[0][1]);\n        for (var i = 1; i < config.pts.length; i++) {\n            ctx.lineTo(config.pts[i][0], config.pts[i][1]);\n        }\n        if (!config.notClose) {\n            ctx.closePath();\n        }\n    },\n\n    GetContainRect: function() {\n        if (!this.rect) {\n            let i = 0,\n                tmp;\n            let xs = this.config.pts.every(function(pt){return pt[0]});\n            let ys = this.config.pts.every(function(pt){return pt[1]});\n            let minx = Math.min(xs);\n            let miny = Math.max(ys);\n            let maxx = Math.max(xs);\n            let maxy = Math.max(ys);\n            this.rect = [minx , miny ,maxx ,maxy];\n        }\n        return this.rect;\n    }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/Rect.js","/**\n * \n * @module ychart/shape/Triangle\n */\nimport ShapeBuilder from \"../core/viewBuilder\";\n\n/**\n * \n * @class Triangle\n * @property {number} beginpt \n * @property {number} width  \n * @property {number} height \n * @property {number} direction bottom  \n * @constructor Triangle\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"triangle\",\n\n    BuildPath: function(ctx, config) {\n        ctx.moveTo(config.beginpt[0], config.beginpt[1]);\n        ctx.lineTo(config.beginpt[0] + config.width, config.beginpt[1]);\n        var pt = [config.beginpt[0] + config.width / 2, config.beginpt[1] + config.height];\n        //\n        if (config.direction == \"bottom\") {\n            pt[1] = config.beginpt[1] - config.height;\n        }\n        ctx.lineTo(pt[0], pt[1]);\n        ctx.lineTo(config.beginpt[0], config.beginpt[1]);\n        config.style.brushType = config.style.brushType || \"stroke\";\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/Triangle.js","/**\n * \n * @module ychart/shape/Text\n */\n\nimport text from \"../core/graphic/helper/text\";\nimport ShapeBuilder from \"../core/viewBuilder\";\nimport {DEFAULT_CONFIG} from \"../core/config/config\";\n\n/**\n * \n * \n * Y\n * @class Text\n * @property {string} text \n * @property {Array.number} beginpt \n * @constructor YText\n */\nexport default ShapeBuilder.baseContextViewExtend({\n    defaultConfig: {\n        coordinate: 1\n    },\n\n    type: \"Text\",\n\n    BuildPath: function(ctx, config) {\n        config.style.brushType = \"none\";\n    },\n\n    DrawText: function(ctx, config) {\n        if (!config.text) {\n            return;\n        }\n        var x = config.dx;\n        var y = config.dy;\n\n        var st = this.configProxy.getStyle();\n        var textAlign = st.textAlign , textBaseline = st.textBaseline;\n        // var textrect = text.getTextRect(config.text , x ,y ,st.textFont ,st.textAlign ,st.textBaseline);\n\n        ctx.save();\n        //\n        if (st.textColor) {\n            ctx.fillStyle = st.textColor;\n        }\n        //canvas, ychart,\n        //\n        // y = 400-y;\n        var globalTextPos = this.transformCoordToGlobal(x,y);\n        x = globalTextPos[0] ,y=globalTextPos[1];\n        var rect = text.fillText(ctx, config.text, x, y, st.font, textAlign, textBaseline);\n        ctx.restore();\n\n        if(this.__dirty && !this.rect){\n            let bottom = rect.bottom,top = rect.top;\n            if(DEFAULT_CONFIG.coordinateSystem == \"Cartesian\"){\n                this.decomposeTransform();\n                let h = this.position[1];\n                bottom = h-bottom , top = top-h ;\n            }\n            this.rect = [rect.left , bottom ,rect.right , top];\n        }\n    },\n\n\n    /*eslint-disable*/\n    _isPtInPath: function(x,y){\n        return true;\n    }\n    /*eslint-disable */\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/YText.js","/**\n * \n * @module ychart/shape/Image\n */\nimport ShapeBuilder from \"../core/viewBuilder\";\nimport {\n    isArr,\n    checkNull\n} from \"../tool/util\";\n\nimport {\n    onImgReady\n} from \"../tool/lang\";\n\n/**\n * \n * @class Image\n * :\n *  <br>(image, dx, dy);\n *  <br>(image, dx, dy, dWidth, dHeight);\n *  <br>(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n *  \\ \\ \n * @property {HTMLImage} image HTMLImage DOM Image\n * @property {String} imagesrc src Ychart,. imageImage\n * @property {number} dx X  0\n * @property {number} dy Y  0\n * @property {number} dWidth   \n * @property {number} dHeight   \n * @property {number} sx X  \n * @property {number} sy Y  \n * @property {number} sWidth   \n * @property {number} sHeight   \n * @property {Object} style .\n * @constructor Image\n * @extends ContextView\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    /**\n     *   \n     * @param {object} option  \n     * @private\n     */\n    Init: function(config) {\n        //\n        if (typeof config.image != \"string\") {\n            this.image = config.image;\n        } else {\n            this.image = new Image();\n            this.image.src = config.image;\n        }\n    },\n\n    /**\n     *  \n     * @private\n     */\n    __setOrigin: function(image) {\n        var config = this.config;\n        var rect = [];\n        if (config.dWidth && config.dHeight) {\n            this.origin[0] = config.dx || 0 + config.dWidth / 2;\n            this.origin[1] = rect[1] - config.dy || 0 + config.dHeight / 2;\n        } else {\n            this.origin[0] = config.dx || 0 + image.width / 2;\n            this.origin[1] = rect[1] - config.dy || 0 + image.height / 2;\n        }\n    },\n\n    type: \"Image\",\n\n    /**\n     *  \n     * canvas\n     *  \n     * coordinate-1.\n     * @private\n     */\n    BuildPath: function(ctx, config) {\n        var buildImagePath1 = function() {\n            var image = this.image || config.image;\n            if (image) {\n                numberOrZero(config, [\"dx\", \"dy\", \"sx\", \"sy\"]);\n                let dy = config.dy;\n                let sWidth = config.sWidth || image.width;\n                let sHeight = config.sHeight || image.height;\n                let dWidth = config.dWidth || image.width;\n                let dHeight = config.dHeight || image.height;\n                //, \n                // dy += dHeight;\n                ctx.drawImage(image, config.sx, config.sy, sWidth, sHeight, config.dx, dy, dWidth, dHeight);\n\n                this.rect = [config.dx, dy, config.dx + dWidth, dy + dHeight];\n                // this.__setOrigin(image);\n            }\n        };\n        onImgReady(this, this.image, [buildImagePath1, function() {\n            this.ReBrushAll();\n        }]);\n    },\n\n    /*eslint-disable*/\n    _isPtInPath: function(x,y){\n        return true;\n    }\n    /*eslint-disable */\n});\n\nfunction numberOrZero(obj, fields) {\n    if (isArr(fields)) {\n        fields.forEach(field => {\n            obj[field] = (checkNull(obj[field]) || isNaN(obj[field])) ? 0 : obj[field];\n        });\n    } else {\n        obj[fields] = (checkNull(obj[fields]) || isNaN(obj[fields])) ? 0 : obj[fields];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/Image.js","/**\n *\n * @module ychart/animation\n */\n\nvar requestAnimFrame = (window !== undefined &&\n    (window.requestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.oRequestAnimationFrame\n    || window.msRequestAnimationFrame))\n    || function (callback) {\n        window.setTimeout(callback, 1000 / 60);\n    };\n\nvar Nop = function () {\n    return true;\n};\n\n/**\n * @function\n * @description \n * @param option\n */\nvar animate = function (option) {\n    var onBegin = option.onBegin || Nop,\n        onChanging = option.onChanging || Nop,\n        onEnd = option.onEnd || null,\n        beginDelay = option.beginDelay || 0;\n    (function frame(beginResult) {\n        if (onEnd()) {\n            return;\n        }\n        onChanging(beginResult);\n\n        requestAnimFrame(frame);\n    })(function(){\n        setTimeout(onBegin,beginDelay);\n    }());\n};\n\nclass Animation{\n    constructor(...elements){\n        this.__elements = elements || [];\n    }\n\n}\n\n\nexport default {\n    animate: animate\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/animation/animation.js"],"sourceRoot":""}