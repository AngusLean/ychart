{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 2b6f76947e0bdfae8e63","webpack:///./src/index.js","webpack:///./src/Ycharts.js","webpack:///./src/Storage.js","webpack:///./src/tool/util.js","webpack:///./src/Group.js","webpack:///./src/tool/klass.js","webpack:///./src/core/graphic/mixin/transform.js","webpack:///./src/core/graphic/mixin/helper/matrix.js","webpack:///./src/core/graphic/mixin/helper/vector.js","webpack:///./src/core/graphic/mixin/moveable.js","webpack:///./src/core/graphic/element.js","webpack:///./src/tool/guid.js","webpack:///./src/Painter.js","webpack:///./src/Layer.js","webpack:///./src/tool/dom.js","webpack:///./src/Reactor.js","webpack:///./src/tool/event.js","webpack:///./src/core/graphic/mixin/draggable.js","webpack:///./src/core/graphic/mixin/eventful.js","webpack:///./src/core/graphic/htmlView.js","webpack:///./src/core/graphic/view.js","webpack:///./src/core/config/config.js","webpack:///./src/tool/lang.js","webpack:///./src/shape/Bezier.js","webpack:///./src/tool/debug.js","webpack:///./src/core/viewBuilder.js","webpack:///./src/core/graphic/contextView.js","webpack:///./src/core/config/OptionProxy.js","webpack:///./src/core/config/StyleProxy.js","webpack:///./src/core/config/style.js","webpack:///./src/core/graphic/helper/text.js","webpack:///./src/core/graphic/helper/viewutil.js","webpack:///./src/shape/Circle.js","webpack:///./src/shape/Line.js","webpack:///./src/shape/Rect.js","webpack:///./src/shape/Triangle.js","webpack:///./src/shape/YText.js","webpack:///./src/shape/Image.js","webpack:///./src/animation/animation.js"],"names":["shape","Bezier","Circle","Line","Rect","Triangle","YText","Image","Group","version","Animation","textutil","extendView","config","isDebug","open","customView","baseContextViewExtend","YCharts","eleid","domid","__storage","__painter","__handler","prototype","clear","clean","depose","cleanPainter","add","el","addEle","BrushAll","refresh","update","resize","wh","ht","getWidth","getHeight","instances","ychart","init","id","document","getElementById","innerHTML","_charts","Storage","yh","_yh","_roots","element","index","i","length","getId","__yh","push","getDisplayableShapeList","list","_getList","root","children","ignore","isType","forEach","checkNull","mergeItem","merge","replaceattr","isArr","type","ele","Object","toString","call","ctx","cb","item","it","hasOwnProperty","which","target","source","key","overwrite","targetProp","map","tg","obj","isFunc","isObj","options","child","parent","inherit","clazz","baseClazz","clazzPrototype","F","prop","constructor","mixin","overlay","_over","mIdentity","identity","EPSILON","isNotAroundZero","val","Transformable","opts","position","rotation","scale","origin","transform","needLocalTransform","updateTransform","parentHasTransform","m","create","getLocalTransform","mul","copy","invTransform","invert","rotate","setTransform","tmpTransform","decomposeTransform","sx","sy","Math","sqrt","atan2","transformCoordToLocal","x","y","v2","applyTransform","transformCoordToGlobal","ArrayCtor","Float32Array","Array","matrix","out","m1","m2","out0","out1","out2","out3","out4","out5","translate","a","v","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","vx","vy","det","vector","clone","set","b","v1","scaleAndAdd","sub","len","lenSquare","div","dot","s","normalize","d","distance","distanceSquare","negate","lerp","t","min","max","lengthSquare","dist","distSquare","Moveable","drift","dx","dy","__dirty","move","angle","zoom","Element","beginid","guid","Painter","storage","origindom","temp","width","height","left","top","container","appendChild","__layer","shapeList","updateLayerState","layer","zlevel","lastZlevel","zLevel","getLayer","preProcessShapeInLayer","Brush","getContext","afterProcessShapeInLayer","_preProcessShapeInLayer","_shape","_groupPreProcess","gp","ly","groupquene","_buildGroupQuene","_group","unshift","before","insertLayer","la","dom","getElementsByTagName","parseInt","getAttribute","parentNode","insertBefore","Layer","setAttribute","layerW","layerH","alert","clearRect","parseInt10","getPosition","defaultView","getComputedStyle","rect","getBoundingClientRect","scrollTop","documentElement","body","scrollLeft","clientWidth","style","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","CACHE","getRectByCtx","context","canvas","doc","createDOM","desc","pos","attr","newdom","createElement","isNaN","drawing","ALL_EVENT_NAMES","SPECIAL_EVENT_HANDLERS","_lastHovered","htmlView","mousemove","exEvent","ev","targetEle","triggerProxy","cursor","_DEFAULT_FOCUS_CURSOR","tip","clientX","tipoffsetX","clientY","tipoffsetY","info","show","hide","_DEFAULT_CURSOR","mouseout","COMMON_EVENT_HANDLER","name","handlers","painter","_handlers","_dragmanager","initHandlers","eventHandler","eventName","undefined","extendAndFixEventPackge","event","trigger","addHandler","clientToLocal","getHoverElement","shapes","sp","contain","ycX","ycY","removeHandler","ClientToLocal","e","box","handler","addEventListener","removeEventListener","getEvent","window","getTarget","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","stop","Draggable","on","_dragStart","_dragIng","_dragEnd","_dragDelay","_lastClickTime","Date","_x","offsetX","_y","offsetY","_dragingTarget","crt","draggable","RebrushAll","dragging","Eventful","h","_h","_one","_ctx","once","indexOf","remove","hs","splice","arrySlice","slice","handles","args","arguments","argLen","array","apply","DomContent","_root","_content","border","backgroundColor","padding","title","footer","visibility","html","HtmlView","option","_domcontent","content","View","Error","DEFAULT_CONFIG","useRectangularCoordinateSystem","throwFunc","str","noOp","bind1Arg","arg1","onreadyCallback","callback","loadMethod","notCompleteCb","completeCb","timer","setInterval","clearInterval","onImgReady","isImageLoaded","imgElement","complete","naturalHeight","warn","insiderange","rg1","rg2","abs","atan","floor","radian2angle","radian","PI","BuildPath","beginpt","endpt","compact","systole","linequadrant","nextx","dis","nexty","nexpt_ct","pt","dispt","leftorright","getrs","disx","disy","piece","dispiece","getDistance","linevert_angleor","linectx_dis","linecty_dis","allctpt","allctinlinept","alllinectpt","moveTo","quadraticCurveTo","brushType","dbpre","wnpre","dbprespace","rs","debug","console","log","isobj","printobj","_printObj","REQUIRED_CHILD","defaults","BaseContextView","baseOption","ContextView","configProxy","defaultConfig","save","__SetShapeTransform","bindContext","BeforeBrush","beginPath","coordinate","rct","tp","getBrushType","fill","stroke","restore","AfterBrush","__BeforeBrush","__AfterBrush","DrawText","local","getable","GetContainRect","text","crect","getStyle","textw","getTextWidth","font","texth","getTextHeight","textpos","textBaseline","textColor","fillStyle","fillText","textAlign","getConfig","OptionProxy","styleProxy","configs","defaultStyle","styleMapper","styleMap","StyleProxy","strokeStyle","gradient","_gradient","createLinearGradient","addColorStop","beginColor","endColor","_style","fillColor","color","lineColor","lineWidth","lineCap","lineJoin","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","shadowx","shadowy","globalAlpha","alpha","globalCompositionOperation","overlaystyle","defaultFont","defaultAlign","defaultBaseline","TextUtil","TEXT_CACHE_MAX","_textHeightCache","_textHeightCacheCounter","textFont","split","measureText","_textWidthCache","_textWidthCacheCounter","l","getTextRect","lineHeight","_fillText","CanvasRenderingContext2D","isPointInStroke","path","isPointInPath","createCanvas","isPtInRect","isPtInPath","Init","arc","r","startangel","endangel","dirty","splitnum","splitlen_x","x1","x0","splitlen_y","y1","y0","lineTo","minx","miny","maxx","maxy","pts","notClose","closePath","tmp","direction","textparams","containRect","textrect","image","__setOrigin","_this","onload","src","dWidth","dHeight","buildImagePath1","numberOrZero","sWidth","sHeight","drawImage","fields","field","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","Nop","animate","onBegin","onChanging","onEnd","beginDelay","frame","beginResult"],"mappings":"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","file":"ychart.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ychart\"] = factory();\n\telse\n\t\troot[\"ychart\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2b6f76947e0bdfae8e63\n **/","/**\n *  \n * @module ychart/index\n */\nimport ychart from \"./Ycharts\";\nimport Bezier from \"./shape/Bezier\";\nimport Circle from \"./shape/Circle\";\nimport Line from \"./shape/Line\";\nimport Rect from \"./shape/Rect\";\nimport Triangle from \"./shape/Triangle\";\nimport YText from \"./shape/YText\";\nimport Image from \"./shape/Image\";\nimport Group from \"./Group\";\nimport Animation from \"./animation/animation\";\nimport ShapeBuilder from \"./core/viewBuilder\";\nimport debugs from \"./tool/debug\";\nimport textUtil from \"./core/graphic/helper/text\";\n\nychart.shape = {Bezier ,Circle ,Line ,Rect ,Triangle ,YText,Image};\n\nychart.Group = Group;\n\nychart.version = 1.0;\n\nychart.Animation = Animation;\n\nychart.textutil = textUtil;\n\nychart.extendView = function (config) {\n    //\n    var isDebug = debugs.open;\n    debugs.open = true;\n    var customView = ShapeBuilder.baseContextViewExtend(config);\n    debugs.open = isDebug;\n    return customView;\n};\n\n/**\n * @todo  Group\n * layer\n * \n * painter,layer\n */\n\nexport default ychart;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/**\n * \n * @module ychart/Ychart\n */\nimport Storage from \"./Storage\";\nimport Painter from \"./Painter\";\nimport Handler from \"./Reactor\";\n\n\n/**\n * @classdesc ychartYH.init\n * @class YCharts\n * @param eleid {string}  canvas canvas \n * @constructor\n */\nvar YCharts = function (eleid ) {\n    //ID\n    this.domid = eleid;\n\n    //\n    this.__storage = new Storage(this);\n\n    // storage\n    this.__painter = new Painter(this, this.__storage);\n\n    //\n    this.__handler = new Handler(this.domid, this.__painter, this.__storage);\n};\n\n\n/**\n * ychart \n */\nYCharts.prototype.clear = function () {\n    this.__painter.clean();\n    this.__storage.clean();\n    this.__handler.depose();\n};\n\n/**\n * canvas\n * ychart\n * \n */\nYCharts.prototype.cleanPainter = function(){\n    this.__painter.cleanPainter();\n\n};\n\n/**\n *  shpaeGroup\n */\nYCharts.prototype.add = function (el) {\n    this.__storage.addEle(el);\n    return this;\n};\n\n/**\n * canvas\n * \n */\nYCharts.prototype.BrushAll = function () {\n    this.__painter.refresh();\n    return this;\n};\n\n/**\n * \n *@see {@link BrushAll}\n */\nYCharts.prototype.update = function () {\n    this.BrushAll();\n};\n\nYCharts.prototype.resize = function(wh ,ht){\n    this.__painter.resize(wh ,ht);\n};\n\n/**\n * ychart\n */\nYCharts.prototype.getWidth = function(){\n    return this.__painter.getWidth();\n};\n\n/**\n * canvas\n */\nYCharts.prototype.getHeight = function(){\n    return this.__painter.getHeight();\n};\n\n\nvar instances = {};\n\n/**\n * ychart\n * @global\n * @class\n */\nvar ychart = {\n    /**\n     * ycharts ycharts\n     * @param id  ID\n     * @param config \n     * @returns {YCharts}\n     */\n    init: function(id, config) {\n        document.getElementById(id).innerHTML = \"\";\n        var _charts = new YCharts(id, config);\n        instances[id] = _charts;\n        return _charts;\n    },\n    /**\n     * ychart\n     * @param {number} id ychartID\n     */\n    depose: function(id) {\n        if (instances[id]) {\n            instances[id].clean();\n            instances[id] = null;\n        }\n    }\n};\n\n\nexport default ychart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Ycharts.js\n **/","/**\n *  \n * @module ychart/storage\n *\n */\nimport {isArr} from \"./tool/util\";\nimport Group from \"./Group\";\n\n\n/**\n *\n * \n * @class\n * @classdesc  ychart\n * @param yh {module:ychart/Ychart} ychart\n * @constructor\n */\nvar Storage = function (yh) {\n\n    //ycharts\n    this._yh = yh;\n\n    //\n    this._roots = [];\n};\n\n/**\n * \n * @param element {module:ychart/core/graphic/element} \n */\nStorage.prototype.addEle = function (element) {\n    if (!element || element.id === null) {\n        return;\n    }\n    var index, i;\n    for (index = 0; index < this._roots.length; index++) {\n        i = this._roots[index];\n        if (i.id == element.getId()) {\n            return;\n        }\n    }\n    element.__yh = this._yh;\n    //group\n    this._roots.push(element);\n};\n\n/**\n *  \n * @returns {Array.<module:ychart/core/graphic/element>}\n */\nStorage.prototype.getDisplayableShapeList = function () {\n    var list = [];\n    var _getList = function (root) {\n        if (isArr(root)) {\n            for (var i = 0; i < root.length; i++) {\n                if (root[i] instanceof Group) {\n                    _getList(root[i].children);\n                } else if (root[i].ignore === false) {\n                    list.push(root[i]);\n                }\n            }\n        } else if (root instanceof Group) {\n            _getList(root.children);\n        }\n    };\n\n    _getList(this._roots);\n\n    return list;\n};\n\n\n\n/**\n * \n */\nStorage.prototype.clean = function () {\n    this._roots = [];\n};\n\n\nexport default Storage;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Storage.js\n **/","/**\n *@module ychart/tool/util\n */\n\n/**\n * \n * @function\n * @param object\n * @param name\n * @returns {boolean}\n */\n/* var hasPrototypeProperty = function(object, name) {\n    return !object.hasOwnProperty(name) && (name in object);\n};\n\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\n */\nexport function isType(type) {\n    return function(ele) {\n        return !checkNull(ele) && Object.prototype.toString.call(ele) == \"[object \" + type + \"]\";\n    };\n}\n\nexport function forEach(ele, ctx, cb) {\n    if (isType(\"Array\")(ele)) {\n        ele.forEach((function(item, index) {\n            cb.call(ctx, item, index);\n        }));\n    } else if (isType(\"Object\")(ele)) {\n        var it, index = 0;\n        for (it in ele) {\n            if (ele.hasOwnProperty(it)) {\n                cb.call(ctx, it, index++);\n            }\n        }\n    }\n}\n\n/**\n * \n * @function\n * @param which\n * @returns {boolean}\n */\nexport function checkNull(which) {\n    return !which || typeof which == \"undefined\" || which == \"null\";\n}\n\n/**\n * key\n * @param target\n * @param source\n * @param key\n * @param overwrite\n */\nexport function mergeItem(target, source, key, overwrite) {\n    if (source.hasOwnProperty(key) && !(source[key] == null)) {\n        var targetProp = target[key];\n        if (typeof targetProp == \"object\") {\n            // merge\n            merge(\n                target[key],\n                source[key],\n                overwrite\n            );\n        } else if (overwrite || !(key in target)) {\n            // overwritetrue\n            target[key] = source[key];\n        }\n    }\n}\n\n\n/**\n * .\n * \n * @function\n * @param {*} target \n * @param {*} source \n * @param {boolean} overwrite \n * @param {object} map .\n *      targetsouece\n */\nexport function merge(target, source, overwrite, map) {\n    if (checkNull(target)) {\n        target = {};\n    }\n    if (isArr(source)) {\n        source.forEach(item =>\n            merge(target, item, overwrite, map)\n        );\n    } else {\n        map && replaceattr(source, map);\n\n        for (var i in source) {\n            mergeItem(target, source, i, overwrite);\n        }\n    }\n    return target;\n}\n\n/**\n * map. \n * \n * @function\n * @param {object} target    \n * @param {object} map   \n */\nexport function replaceattr(target, map) {\n    if (map && target) {\n        for (var tg in target) {\n            if (map.hasOwnProperty(tg) && (map[tg] != tg)) {\n                // target\n                target[map[tg]] = target[tg];\n                target[tg] = null;\n            }\n        }\n    }\n    return target;\n}\n\n\nexport function isArr(obj) {\n    return isType(\"Array\")(obj);\n}\n\nexport var isFunc = isType(\"Function\"),\n    isObj = isType(\"Object\");\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tool/util.js\n **/","/**\n * \n * @module ychart/Group\n */\nimport {merge} from \"./tool/util\";\nimport {mixin} from \"./tool/klass\";\nimport Transform from \"./core/graphic/mixin/transform\";\nimport Moveable from \"./core/graphic/mixin/moveable.js\";\nimport Element from \"./core/graphic/element\";\n\n/**\n * @class\n * @classdesc   {@link ./core/graphic/view} \n */\nclass Group extends Element{\n\n    /**\n     * @constructor\n     * @param {Object} options  \n     */\n    constructor(options){\n        super(\"group\");\n\n        this.children = [];\n\n        merge(this, options, false, null);\n\n        Transform.call(this);\n    }\n\n    /**\n     * \n     * @param {Element} child  shape\n     * @returns {Group}\n     */\n    add(child) {\n        if (child == this)\n            return;\n        this.children.forEach(ele => {\n            if(child.id === ele.id){\n                return this;\n            }\n        });\n        //group \n        child.parent = this;\n\n        this.children.push(child);\n        return this;\n    }\n}\n\nmixin(Group ,Transform , true);\nmixin(Group ,Moveable, true);\n\n\nexport default Group;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Group.js\n **/","export var inherit = function (clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n\n    function F() {\n    }\n\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n\n    for (var prop in clazzPrototype) {\n        clazz.prototype[prop] = clazzPrototype[prop];\n    }\n    clazz.constructor = clazz;\n};\n\n// \n\nexport var mixin = function (target, source, overlay) {\n    source = \"prototype\" in source ? source.prototype : source;\n    target = \"prototype\" in target ? target.prototype : target;\n    _over(target, source, overlay);\n    function _over(target, source, overlay) {\n        for (var ele in source) {\n            if (ele != \"constructor\" && source.hasOwnProperty(ele) &&\n                (overlay ? (source[ele] !== null) : (target[ele] === null))) {\n                target[ele] = source[ele];\n            }\n        }\n        return target;\n    }\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tool/klass.js\n **/","/**\n * .\n * handler.js \n * @module ychart/core/graphic/mixin\n */\n\nimport matrix from './helper/matrix'\nimport vector from './helper/vector'\nvar mIdentity = matrix.identity;\n\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\n\n/**\n *  \n * @class\n * @mixin\n */\nvar Transformable = function (opts) {\n    opts = opts || this;\n    // If there are no given position, rotation, scale\n    if (!opts.position) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default [0, 0]\n         */\n        this.position = [0, 0];\n    } else {\n        this.position = opts.position;\n    }\n    if (!opts.rotation) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default 0\n         */\n        this.rotation = 0;\n    } else {\n        this.rotation = opts.rotation;\n    }\n    if (!opts.scale) {\n        /**\n         * \n         * @type {Array.<number>}\n         * @default [1, 1]\n         */\n        this.scale = [1, 1];\n    } else {\n        this.scale = opts.scale;\n    }\n    /**\n     * \n     * @type {Array.<number>}\n     * @default null\n     */\n    this.origin = this.origin || null;\n\n};\n\n\n/**\n * \n */\nTransformable.prototype.transform = null;\n\n/**\n * \n * , position, rotation, scaletransformtransform\n */\nTransformable.prototype.needLocalTransform = function () {\n    return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) ||\n        isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) ||\n        isNotAroundZero(this.scale[1] - 1);\n};\n\nTransformable.prototype.updateTransform = function () {\n    var parent = this.parent;\n    var parentHasTransform = parent && parent.transform;\n    var needLocalTransform = this.needLocalTransform();\n\n    var m = this.transform;\n    m = m || [];\n    if (!(needLocalTransform || parentHasTransform)) {\n        mIdentity(m);\n        return;\n    }\n\n    m = m || matrix.create();\n\n    if (needLocalTransform) {\n        this.getLocalTransform(m);\n    } else {\n        mIdentity(m);\n    }\n\n    // \n    if (parentHasTransform) {\n        if (needLocalTransform) {\n            matrix.mul(m, parent.transform, m);\n        } else {\n            matrix.copy(m, parent.transform);\n        }\n    }\n    // \n    this.transform = m;\n\n    this.invTransform = this.invTransform || matrix.create();\n    matrix.invert(this.invTransform, m);\n};\n\nTransformable.prototype.getLocalTransform = function (m) {\n    m = m || [];\n    mIdentity(m);\n\n    var origin = this.origin;\n\n    var scale = this.scale;\n    var rotation = this.rotation;\n    var position = this.position;\n    if (origin) {\n        // Translate to origin\n        m[4] -= origin[0];\n        m[5] -= origin[1];\n    }\n    if (scale) {\n        matrix.scale(m, m, scale);\n    }\n    if (rotation) {\n        matrix.rotate(m, m, rotation);\n    }\n    if (origin) {\n        // Translate back from origin\n        m[4] += origin[0];\n        m[5] += origin[1];\n    }\n\n    m[4] += position[0];\n    m[5] += position[1];\n\n    return m;\n};\n\n/**\n * transformcontext\n * @param {Context2D} ctx\n */\nTransformable.prototype.setTransform = function (ctx) {\n    var m = this.transform;\n    if (m) {\n        ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n    }\n};\n\nvar tmpTransform = [];\n\n/**\n * `transform``position`, `rotation`, `scale`\n */\nTransformable.prototype.decomposeTransform = function () {\n    if (!this.transform) {\n        return;\n    }\n    var parent = this.parent;\n    var m = this.transform;\n    if (parent && parent.transform) {\n        // Get local transform and decompose them to position, scale, rotation\n        matrix.mul(tmpTransform, parent.invTransform, m);\n        m = tmpTransform;\n    }\n    var sx = m[0] * m[0] + m[1] * m[1];\n    var sy = m[2] * m[2] + m[3] * m[3];\n    var position = this.position;\n    var scale = this.scale;\n    if (isNotAroundZero(sx - 1)) {\n        sx = Math.sqrt(sx);\n    }\n    if (isNotAroundZero(sy - 1)) {\n        sy = Math.sqrt(sy);\n    }\n    if (m[0] < 0) {\n        sx = -sx;\n    }\n    if (m[3] < 0) {\n        sy = -sy;\n    }\n    position[0] = m[4];\n    position[1] = m[5];\n    scale[0] = sx;\n    scale[1] = sy;\n    this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n\n/**\n *  shape \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\nTransformable.prototype.transformCoordToLocal = function (x, y) {\n    var v2 = [x, y];\n    var invTransform = this.invTransform;\n    if (invTransform) {\n        vector.applyTransform(v2, v2, invTransform);\n    }\n    return v2;\n};\n\n/**\n * \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\nTransformable.prototype.transformCoordToGlobal = function (x, y) {\n    var v2 = [x, y];\n    var transform = this.transform;\n    if (transform) {\n        vector.applyTransform(v2, v2, transform);\n    }\n    return v2;\n};\n\nexport default Transformable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/mixin/transform.js\n **/","/**\n * @module ychart/core/graphic/mixin/helper\n * @see {@link ychart/core/graphic/mixin} \n */\n\nvar ArrayCtor = typeof Float32Array === 'undefined'\n    ? Array\n    : Float32Array;\n/**\n * 3x2\n */\nvar matrix = {\n    /**\n     * \n     * @return {Float32Array|Array.<number>}\n     */\n    create: function () {\n        var out = new ArrayCtor(6);\n        matrix.identity(out);\n\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     */\n    identity: function (out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 1;\n        out[4] = 0;\n        out[5] = 0;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} m\n     */\n    copy: function (out, m) {\n        out[0] = m[0];\n        out[1] = m[1];\n        out[2] = m[2];\n        out[3] = m[3];\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} m1\n     * @param {Float32Array|Array.<number>} m2\n     */\n    mul: function (out, m1, m2) {\n        // Consider matrix.mul(m, m2, m);\n        // where out is the same as m2.\n        // So use temp variable to escape error.\n        var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n        var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n        var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n        var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n        var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n        var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n        out[0] = out0;\n        out[1] = out1;\n        out[2] = out2;\n        out[3] = out3;\n        out[4] = out4;\n        out[5] = out5;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     * @param {Float32Array|Array.<number>} v\n     */\n    translate: function (out, a, v) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        out[4] = a[4] + v[0];\n        out[5] = a[5] + v[1];\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     * @param {number} rad\n     */\n    rotate: function (out, a, rad) {\n        var aa = a[0];\n        var ac = a[2];\n        var atx = a[4];\n        var ab = a[1];\n        var ad = a[3];\n        var aty = a[5];\n        var st = Math.sin(rad);\n        var ct = Math.cos(rad);\n\n        out[0] = aa * ct + ab * st;\n        out[1] = -aa * st + ab * ct;\n        out[2] = ac * ct + ad * st;\n        out[3] = -ac * st + ct * ad;\n        out[4] = ct * atx + st * aty;\n        out[5] = ct * aty - st * atx;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     * @param {Float32Array|Array.<number>} v\n     */\n    scale: function (out, a, v) {\n        var vx = v[0];\n        var vy = v[1];\n        out[0] = a[0] * vx;\n        out[1] = a[1] * vy;\n        out[2] = a[2] * vx;\n        out[3] = a[3] * vy;\n        out[4] = a[4] * vx;\n        out[5] = a[5] * vy;\n        return out;\n    },\n    /**\n     * \n     * @param {Float32Array|Array.<number>} out\n     * @param {Float32Array|Array.<number>} a\n     */\n    invert: function (out, a) {\n\n        var aa = a[0];\n        var ac = a[2];\n        var atx = a[4];\n        var ab = a[1];\n        var ad = a[3];\n        var aty = a[5];\n\n        var det = aa * ad - ab * ac;\n        if (!det) {\n            return null;\n        }\n        det = 1.0 / det;\n\n        out[0] = ad * det;\n        out[1] = -ab * det;\n        out[2] = -ac * det;\n        out[3] = aa * det;\n        out[4] = (ac * aty - ad * atx) * det;\n        out[5] = (ab * atx - aa * aty) * det;\n        return out;\n    }\n};\n\nexport default matrix;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/mixin/helper/matrix.js\n **/","/**\n * @module ychart/core/graphic/mixin/helper\n * @see {@link ychart/core/graphic/mixin} \n */\n\n\n\n/**\n * @typedef {Float32Array|Array.<number>} Vector2\n */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n\n/**\n * \n */\nvar vector = {\n    /**\n     * \n     * @param {number} [x=0]\n     * @param {number} [y=0]\n     * @return {Vector2}\n     */\n    create: function (x, y) {\n        var out = new ArrayCtor(2);\n        out[0] = x || 0;\n        out[1] = y || 0;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     * @return {Vector2}\n     */\n    copy: function (out, v) {\n        out[0] = v[0];\n        out[1] = v[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v\n     * @return {Vector2}\n     */\n    clone: function (v) {\n        var out = new ArrayCtor(2);\n        out[0] = v[0];\n        out[1] = v[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {number} a\n     * @param {number} b\n     * @return {Vector2} \n     */\n    set: function (out, a, b) {\n        out[0] = a;\n        out[1] = b;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    add: function (out, v1, v2) {\n        out[0] = v1[0] + v2[0];\n        out[1] = v1[1] + v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @param {number} a\n     */\n    scaleAndAdd: function (out, v1, v2, a) {\n        out[0] = v1[0] + v2[0] * a;\n        out[1] = v1[1] + v2[1] * a;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    sub: function (out, v1, v2) {\n        out[0] = v1[0] - v2[0];\n        out[1] = v1[1] - v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v\n     * @return {number}\n     */\n    len: function (v) {\n        return Math.sqrt(this.lenSquare(v));\n    },\n\n    /**\n     * \n     * @param {Vector2} v\n     * @return {number}\n     */\n    lenSquare: function (v) {\n        return v[0] * v[0] + v[1] * v[1];\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    mul: function (out, v1, v2) {\n        out[0] = v1[0] * v2[0];\n        out[1] = v1[1] * v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     */\n    div: function (out, v1, v2) {\n        out[0] = v1[0] / v2[0];\n        out[1] = v1[1] / v2[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @return {number}\n     */\n    dot: function (v1, v2) {\n        return v1[0] * v2[0] + v1[1] * v2[1];\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     * @param {number} s\n     */\n    scale: function (out, v, s) {\n        out[0] = v[0] * s;\n        out[1] = v[1] * s;\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     */\n    normalize: function (out, v) {\n        var d = vector.len(v);\n        if (d === 0) {\n            out[0] = 0;\n            out[1] = 0;\n        }\n        else {\n            out[0] = v[0] / d;\n            out[1] = v[1] / d;\n        }\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @return {number}\n     */\n    distance: function (v1, v2) {\n        return Math.sqrt(\n            (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1])\n        );\n    },\n\n    /**\n     * \n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @return {number}\n     */\n    distanceSquare: function (v1, v2) {\n        return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     */\n    negate: function (out, v) {\n        out[0] = -v[0];\n        out[1] = -v[1];\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v1\n     * @param {Vector2} v2\n     * @param {number} t\n     */\n    lerp: function (out, v1, v2, t) {\n        out[0] = v1[0] + t * (v2[0] - v1[0]);\n        out[1] = v1[1] + t * (v2[1] - v1[1]);\n        return out;\n    },\n\n    /**\n     * \n     * @param {Vector2} out\n     * @param {Vector2} v\n     * @param {Vector2} m\n     */\n    applyTransform: function (out, v, m) {\n        var x = v[0];\n        var y = v[1];\n        out[0] = m[0] * x + m[2] * y + m[4];\n        out[1] = m[1] * x + m[3] * y + m[5];\n        return out;\n    },\n    /**\n     * \n     * @param  {Vector2} out\n     * @param  {Vector2} v1\n     * @param  {Vector2} v2\n     */\n    min: function (out, v1, v2) {\n        out[0] = Math.min(v1[0], v2[0]);\n        out[1] = Math.min(v1[1], v2[1]);\n        return out;\n    },\n    /**\n     * \n     * @param  {Vector2} out\n     * @param  {Vector2} v1\n     * @param  {Vector2} v2\n     */\n    max: function (out, v1, v2) {\n        out[0] = Math.max(v1[0], v2[0]);\n        out[1] = Math.max(v1[1], v2[1]);\n        return out;\n    }\n};\n\nvector.length = vector.len;\nvector.lengthSquare = vector.lenSquare;\nvector.dist = vector.distance;\nvector.distSquare = vector.distanceSquare;\n\nexport default vector;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/mixin/helper/vector.js\n **/","/**\n * @module ychart/core/graphic/mixin\n */\n\n\nimport {isArr} from \"../../../tool/util\"\n\n/**\n *  \n * @class\n * @mixin\n */\nvar Moveable = function () {\n\n};\n\nMoveable.prototype = {\n\n    /**\n     * \n     * @param {number} dx\n     * @param {number} dy\n     */\n    drift: function (dx, dy) {\n        // if (!isArr(this.position)) {\n            // this.position = [0, 0];\n        // }\n\n        this.position[0] += dx;\n        this.position[1] -= dy;\n        this.__dirty = true;\n    },\n\n    /**\n     *  drift\n     * @param {number} dx\n     * @param {number} dy\n     */\n    move: function (dx, dy) {\n        this.drift(dx, dy);\n    },\n\n    /**\n     * \n     * @param {number}  x X\n     * @param {number}  y y\n     * @param {number}  angle \n     */\n    rotate: function (x, y, angle) {\n        // if (!isArr(this.origin)) {\n            // this.origin = [0, 0];\n        // }\n        if(!this.rotation){\n            this.rotation = 0;\n        }\n        this.origin[0] += x;\n        this.origin[1] += y;\n        this.rotation += angle;\n\n        this.__dirty = true;\n    },\n\n    /**\n     * \n     * . [0,0] ,\n     * shapeorigin\n     *\n     * @param {number}  x X\n     * @param {number}  y y\n     */\n    zoom: function (x, y) {\n        this.scale[0] *= x;\n        this.scale[1] *= y;\n        this.__dirty = true;\n    }\n};\n\n\nexport default Moveable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/mixin/moveable.js\n **/","/**\n * ychart\n * @module ychart/core/graphic/element\n */\nimport guid from \"../../tool/guid\";\n\n/**\n * @classdesc  ID\n * @class\n */\nclass Element {\n    /**\n     * @constructor\n     * @param {String} type  . element\n     */\n    constructor(type = \"element\") {\n        this.type = type;\n        this.id = this.type + \"_\" + guid();\n    }\n\n    /**\n     * id\n     * @returns {string}  ID\n     */\n    getId() {\n        return this.id;\n    }\n\n}\n\nexport default Element;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/element.js\n **/","var beginid = 1000;\nvar guid = function(){\n    return beginid++;\n};\n\nexport default guid;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tool/guid.js\n **/","/**\n * \n * @module ychart/painter\n */\nimport Layer from \"./Layer\";\nimport guid from \"./tool/guid\";\nimport Group from \"./Group\";\nimport {\n    getPosition,\n    createDOM\n} from \"./tool/dom\";\n\n/**\n * \n * \n * Layer\n * @class\n * @classdesc \n * @param yh {module:ychart/Ychart} ychart\n * @param storage {module:ychart/storage}  \n * @constructor\n */\nvar Painter = function(yh, storage) {\n    this.__storage = storage;\n    this.__yh = yh;\n    this.origindom = document.getElementById(yh.domid);\n    var temp = getPosition(this.origindom);\n    this.width = temp.width;\n    this.height = temp.height;\n    this.left = temp.left;\n    this.top = temp.top;\n\n    // this.container = createDOM(guid() , \"div\" , \"container\" ,this.width , this.height ,\"relative\");\n    this.container = createDOM(guid(), \"div\", \"container\", \"relative\", {\n        width: \"100%\",\n        height: \"100%\"\n    });\n    this.origindom.appendChild(this.container);\n    this.__layer = [];\n};\n\n/**\n *ychart \n * setOption\n */\nPainter.prototype.refresh = function() {\n    var shapeList = this.__storage.getDisplayableShapeList();\n    this.updateLayerState(shapeList);\n    var i, shape, layer, zlevel, lastZlevel = -1;\n    for (i = 0; i < shapeList.length; i++) {\n        shape = shapeList[i];\n        zlevel = shape.zLevel || 0;\n        layer = this.getLayer(zlevel);\n        //layer\n        if (lastZlevel != zlevel && layer.__dirty) {\n            layer.clear();\n            lastZlevel = zlevel;\n            layer.__dirty = false;\n        }\n        this.preProcessShapeInLayer(shape, layer);\n        shape.Brush(layer.getContext());\n        this.afterProcessShapeInLayer(shape, layer);\n    }\n};\n\n/**\n * layer \n * @param shapeList {Array.<module:ychart/core/graphic/element>} \n */\nPainter.prototype.updateLayerState = function(shapeList) {\n    var i, layer, zlevel, shape;\n    for (i = 0; i < shapeList.length; i++) {\n        shape = shapeList[i];\n        //ychart\n        !shape.__yh && (shape.__yh = this.__yh);\n\n        zlevel = shape.zLevel;\n        layer = this.getLayer(zlevel);\n        //\n\n        //\n        !layer.__dirty && (layer.__dirty = shape.__dirty);\n    }\n};\n\n\n/**\n * ,Layer\n * @param shape {module:ychart/core/graphic/element} \n * @param layer {module:ychart/layer} \n */\nPainter.prototype.preProcessShapeInLayer = function(shape, layer) {\n    var _preProcessShapeInLayer = function(_shape) {\n        if (_shape.parent == null) {\n            _shape.parent = layer;\n        } else if (_shape.parent instanceof Group) {\n            _groupPreProcess(_shape.parent, layer);\n        }\n    };\n\n    /**\n     * parent, . groupparent.\n     * groupLayer.\n     * layer\n     * @param gp group\n     * @param ly (Layer)\n     * @private\n     */\n    var _groupPreProcess = function(gp, ly) {\n        //group,group\n        var groupquene = [];\n        var _buildGroupQuene = function(_group) {\n            if (_group instanceof Group) {\n                groupquene.unshift(_group);\n            }\n            if (_group.parent instanceof Group) {\n                _buildGroupQuene(_group.parent);\n            }\n        };\n        _buildGroupQuene(gp);\n        var before = groupquene[0];\n        groupquene.forEach(function(item, index) {\n            if (index === 0) {\n                item.parent = ly;\n            } else {\n                item.parent = before;\n            }\n            before = item;\n            //\n            item.updateTransform();\n        });\n    };\n\n\n    _preProcessShapeInLayer(shape);\n};\n\n/**\n * \n * @param shape {module:ychart/core/graphic/element} \n * @param layer {module:ychart/layer} \n */\nPainter.prototype.afterProcessShapeInLayer = function(shape) {\n    shape.__dirty = false;\n};\n\n/**\n * zLevelyalerzLevelLayer\n * @param zLevel {string}  \n * @return {module::ychart/layer} Layer\n */\nPainter.prototype.getLayer = function(zLevel) {\n    var layer = this.__layer[zLevel];\n    if (!layer) {\n        layer = new Layer(guid() + \"-zlevel\", zLevel, {\n            width: this.getWidth(),\n            height: this.getHeight(),\n            left: 0,\n            top: 0\n        });\n        this.insertLayer(zLevel, layer);\n        this.__layer[zLevel] = layer;\n    }\n    return layer;\n};\n\n/**\n * \n * @returns {integer} \n */\nPainter.prototype.getWidth = function() {\n    return this.width;\n};\n\n/**\n * \n * @returns {integer} \n */\nPainter.prototype.getHeight = function() {\n    return this.height;\n};\n\n/**\n * \n * canvasDOM\n */\nPainter.prototype.clean = function() {\n    this.width = null;\n    this.height = null;\n\n    //canvas\n    this.origindom.innerHTML = \"\";\n    this.origindom = null;\n};\n\n/**\n * \n */\nPainter.prototype.cleanPainter = function() {\n    this.__layer.forEach(la => la.clear());\n};\n\n/**\n * ,ychart\n * Layer\n * roomcanvas\n * @param {Number} width \n * @param {Number} height \n */\nPainter.prototype.resize = function(width, height) {\n    this.__layer.forEach(la => {\n        la.resize(width, height);\n    });\n    this.width = width;\n    this.height = height;\n    this.refresh();\n};\n\n/**\n * layer\n * @param zLevel {string}  \n * @param layer {module::ychart/layer} Layer\n */\nPainter.prototype.insertLayer = function(zLevel, layer) {\n    var dom = layer.dom;\n    if (this.__layer.length !== 0) {\n        var children = this.container.getElementsByTagName(\"canvas\");\n        var i, len, child;\n        for (i = 0, len = children.length; i < len; i++) {\n            child = children[i];\n            if (zLevel < parseInt(child.getAttribute(\"zLevel\"))) {\n                child.parentNode.insertBefore(dom, child);\n                children = null;\n                return;\n            }\n        }\n    }\n    this.container.appendChild(dom);\n};\n\nexport default Painter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Painter.js\n **/","/**\n * canvas layerzIndex\n * @module ychart/layer\n */\nimport {\n    checkNull\n} from \"./tool/util\";\nimport {\n    createDOM,\n    getContext\n} from \"./tool/dom\";\nimport Moveable from \"./core/graphic/mixin/moveable.js\";\nimport Transform from \"./core/graphic/mixin/transform.js\";\nimport {\n    mixin\n} from \"./tool/klass.js\";\n\n/**\n *\n * @class\n * @classdesc  DOMcanvas\n *   layer layerStorage layerPainter\n */\nclass Layer {\n\n    /**\n    * @param id {string} LayerID\n    * @param zLevel {Number}  zLevel\n    * @param opts {object}\n    * @constructor\n    */\n    constructor(id, zLevel, opts) {\n        //ID\n        this.id = id;\n        //DOM. canvas\n        this.dom = document.getElementById(id);\n        //.\n        this.zLevel = zLevel;\n\n        if (checkNull(this.dom)) {\n            this.dom = createDOM(id, \"canvas\", \"layer\", \"absolute\", {left: opts.left || 0,top: opts.top || 0} ,\n                {width: opts.width ,height: opts.height});\n        }\n\n        this.dom.setAttribute(\"zLevel\", zLevel);\n\n        this.ctx = getContext(this.dom);\n\n        this.layerW = opts.width;\n        this.layerH = opts.height;\n\n        if (checkNull(this.ctx)) {\n            alert(\"HTML5 canvas,ychart .  \" );\n            return;\n        }\n\n        //\n        this.__dirty = false;\n\n        Transform.call(this);\n    }\n\n    /**\n     * zlevel\n     * @return {Number} zLevel  \n     */\n    getZlevel() {\n        return this.zLevel;\n    }\n\n    /**\n     * \n     * @returns {CanvasRenderingContext2D}\n     */\n    getContext() {\n        return this.ctx;\n    }\n\n    /**\n     * layer\n     */\n    clear() {\n        this.ctx.clearRect(0, 0, this.layerW, this.layerH);\n    }\n\n    /**\n     * layer canvas\n     *   canvas\n     * @param {Number} width  \n     * @param {Number} height  \n     */\n    resize(width, height) {\n        var dx = width / this.layerW,\n            dy = height / this.layerH;\n\n        this.zoom(dx, dy);\n\n        //layer\n        //Group\n        this.updateTransform();\n\n        this.dom.width = width;\n        this.dom.height = height;\n        this.layerW = width, this.layerH = height;\n    }\n}\n\nmixin(Layer, Transform, true);\nmixin(Layer, Moveable, true);\n\nexport default Layer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Layer.js\n **/","function parseInt10(val) {\n    return parseInt(val, 10);\n}\nexport var getPosition = function (id) {\n    var element = typeof id == \"string\" ? document.getElementById(id) : id;\n    var st = document.defaultView.getComputedStyle(element);\n\n    var rect = element.getBoundingClientRect();\n    var scrollTop = document.documentElement.scrollTop ?\n        document.documentElement.scrollTop : document.body.scrollTop;\n    var scrollLeft = document.documentElement.scrollLeft ?\n        document.documentElement.scrollLeft : document.body.scrollLeft;\n    return {\n        width: (element.clientWidth || parseInt10(st.width) || parseInt10(element.style.width) -\n            (parseInt10(st.paddingLeft) || 0) -\n                (parseInt10(st.paddingRight))) || 0,\n\n        height: (element.clientHeight || parseInt10(st.height) || parseInt10(element.style.height) -\n            (parseInt10(st.paddingTop) || 0) -\n                (parseInt10(st.paddingBottom))) || 0,\n        top: rect.top + scrollTop,\n        left: rect.left + scrollLeft\n    };\n};\n\nvar CACHE = {};\n\nexport var getRectByCtx = function(context){\n    let canvas = context.canvas;\n    if(CACHE[canvas]){\n        return CACHE[canvas];\n    }\n    CACHE[canvas] = [canvas.width ,canvas.height];\n    return CACHE[canvas];\n};\n\nexport var doc = function (id) {\n    return document.getElementById(id);\n};\n\n/* eslint-disable */\nexport var createDOM = function (id, type, desc, pos ,style , attr) {\n    var newdom = document.createElement(type);\n    var st = newdom.style;\n    st.position = typeof pos === \"undefined\" ? \"absolute\" : pos;\n    if(style){\n        for(let item in style){\n            if(isNaN(style[item])){\n                st[item] = style[item];\n            }else{\n                st[item] = style[item]+\"px\";\n            }\n        }\n    }\n    if(attr){\n        for(let item in attr){\n            newdom[item] = attr[item];\n        }\n    }\n    newdom.setAttribute(\"ychart-\"+desc, id);\n    return newdom;\n};\n\n\nexport var getContext = function (drawing) {\n    if (drawing && drawing.getContext) {\n        return drawing.getContext(\"2d\");\n    }\n    return null;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tool/dom.js\n **/","/**\n * canvas\n * @module ychart/Handler\n */\n\nimport eventUtil from \"./tool/event\";\nimport Draggable from \"./core/graphic/mixin/draggable\";\nimport HtmlView from \"./core/graphic/htmlView\";\nimport {DEFAULT_CONFIG} from \"./core/config/config\";\n\nimport {\n    doc\n} from \"./tool/dom\";\nimport {\n    bind1Arg\n} from \"./tool/lang\";\n\n\n//\nvar ALL_EVENT_NAMES = [\"click\", \"mousedown\", \"mousemove\", \"mouseup\", \"focus\"];\n\n//\nvar SPECIAL_EVENT_HANDLERS = {\n\n    //\n    _lastHovered: null,\n\n    //\n    htmlView: null,\n\n    //\n    mousemove: function(exEvent) {\n\n        var ev = exEvent, obj = exEvent.targetEle;\n        //\n        if (this._lastHovered != null && this._lastHovered != obj) {\n            this.triggerProxy(this._lastHovered, \"blur\", ev);\n        }\n        //\n        if (obj) {\n            //\n            this.root.style.cursor = this._DEFAULT_FOCUS_CURSOR;\n            //\n            this.triggerProxy(obj, \"mousemove\", ev);\n\n            //\n            if(obj.config.tip){\n                if(!this.htmlView){\n                    this.htmlView = new HtmlView({\n                        left: exEvent.clientX+DEFAULT_CONFIG.tipoffsetX,\n                        top: exEvent.clientY+DEFAULT_CONFIG.tipoffsetY\n                    });\n                }else{\n                    this.htmlView.move(exEvent.clientX+DEFAULT_CONFIG.tipoffsetX,\n                        exEvent.clientY+DEFAULT_CONFIG.tipoffsetY);\n                }\n                if(this._lastHovered != obj )\n                    this.htmlView.info(obj.config.tip);\n                this.htmlView.show();\n            }else{\n                this.htmlView && this.htmlView.hide();\n            }\n        } else {\n            //\n            this.root.style.cursor = this._DEFAULT_CURSOR;\n            //\n            this.htmlView && this.htmlView.hide();\n        }\n        this._lastHovered = obj;\n    },\n\n    mouseout: function(exEvent) {\n        var ev = exEvent;\n        if (this._lastHovered != null) {\n            this.triggerProxy(this._lastHovered, \"globalout\", ev);\n        }\n        this._lastHovered = null;\n        this.htmlView && this.htmlView.hide();\n    }\n\n};\n\n//\nvar COMMON_EVENT_HANDLER = function(name) {\n    return function(exEvent) {\n\n        var ev = exEvent,obj = ev.targetEle;\n\n        //\n        if (obj) {\n            //\n            this.triggerProxy(obj, name, ev);\n        }\n    };\n};\n\n/**\n * @class\n * @classdesc ychart\n * @param root {HTMLElement}  ID\n * @param painter {module:ychart/painter} \n * @param storage {module:ychart/storage} \n */\nvar handlers = function(root, painter, storage) {\n    //\n    this.__storage = storage;\n\n    //\n    this.__painter = painter;\n\n    //\n    this.root = doc(root);\n\n    //\n    this._handlers = {};\n\n    // \n    this._dragmanager = new Draggable();\n\n    this._DEFAULT_FOCUS_CURSOR = \"pointer\";\n    this._DEFAULT_CURSOR = \"default\";\n    this.initHandlers();\n};\n\n\n/**\n * \n * this._handlers\n */\nhandlers.prototype.initHandlers = function() {\n\n    ALL_EVENT_NAMES.forEach(eventName => {\n        //\n        var eventHandler = SPECIAL_EVENT_HANDLERS[eventName] === undefined ? COMMON_EVENT_HANDLER(eventName) :\n            SPECIAL_EVENT_HANDLERS[eventName];\n        //handler.\n        this._handlers[eventName] = bind1Arg(event => {\n\n            //\n            var exEvent = this.extendAndFixEventPackge(event);\n\n            //\n            eventHandler.call(this , exEvent);\n\n            // \n            this._dragmanager.trigger(eventName ,exEvent);\n\n        } , this);\n        eventUtil.addHandler(this.root, eventName, this._handlers[eventName]);\n    });\n};\n\n/**\n * \n * @param event {Event} \n * @returns {exEvent}\n */\nhandlers.prototype.extendAndFixEventPackge = function(event) {\n    //\n    event = eventUtil.clientToLocal(this.root, event, event);\n\n    //\n    event.targetEle = this.getHoverElement(event);\n\n    return event;\n};\n\n/**\n *  \n * @param element {module:ychart/core/graphic/element}  \n * @param eventName {string}  \n * @param exEvent  {exEvent} \n */\nhandlers.prototype.triggerProxy = function(element, eventName, exEvent) {\n    element.trigger && element.trigger(eventName, exEvent, element.config);\n};\n\n/**\n * \n * @param exEvent  {exEvent} \n * @return {module:ychart/core/graphic/element || null} null\n */\nhandlers.prototype.getHoverElement = function(exEvent) {\n    var shapes = this.__storage.getDisplayableShapeList();\n    for (let i = shapes.length-1 ; i >=0; i--) {\n        let sp = shapes[i];\n        if (sp.contain(\n                exEvent.ycX,\n                exEvent.ycY\n            )) {\n            return sp;\n        }\n    }\n    return null;\n};\n\nhandlers.prototype.depose = function () {\n    for(let event in this._handlers){\n        eventUtil.removeHandler(this.root , event ,this._handlers[event]);\n    }\n};\n\nexport default handlers;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Reactor.js\n **/","var ClientToLocal = function(el, e, out) {\n    out = out || {};\n    var box = el.getBoundingClientRect();\n    out.ycX = e.clientX - box.left;\n    out.ycY = e.clientY - box.top;\n\n    return out;\n};\n\nexport default {\n    addHandler: function(element, type, handler) {\n        element.addEventListener(type, handler, false);\n    },\n    removeHandler: function(element, type, handler) {\n        element.removeEventListener(type, handler);\n    },\n    getEvent: function(event) {\n        return event ? event : window.event;\n    },\n    getTarget: function(event) {\n        return event.target || event.srcElement;\n    },\n    preventDefault: function(event) {\n        if (event.preventDefault) {\n            event.preventDefault();\n        } else {\n            event.returnValue = false;\n        }\n    },\n    stopPropagation: function(event) {\n        if (event.stopPropagation) {\n            event.stopPropagation();\n        } else {\n            event.cancelBubble = true;\n        }\n    },\n    stop: function(event) {\n        this.preventDefault(event);\n        this.stopPropagation(event);\n    },\n    clientToLocal: ClientToLocal\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tool/event.js\n **/","/**\n * @module ychart/core/graphic/mixin\n */\n\n\nimport Eventful from \"./eventful\";\nimport {mixin} from \"../../../tool/klass\";\n\nvar target;\n\n/**\n *  \n * @class\n * @constructor\n */\nvar Draggable = function () {\n    Eventful.call(this);\n\n    this.on(\"mousedown\", this._dragStart, this);\n    this.on(\"mousemove\", this._dragIng, this);\n    this.on(\"mouseup\", this._dragEnd, this);\n    this.on(\"globalout\", this._dragEnd, this);\n};\n\n\nDraggable.prototype = {\n    constructor: Draggable,\n\n    _dragDelay: 100,\n\n    _lastClickTime: null,\n\n    /**\n     * \n     * @param {event} exEvent  \n     * @private\n     */\n    _dragStart: function (exEvent) {\n        target = exEvent.targetEle;\n        this._lastClickTime = new Date();\n        if (target) {\n            this._x = exEvent.offsetX;\n            this._y = exEvent.offsetY;\n            this._dragingTarget = target;\n            this.trigger(target, \"dragStart\", exEvent);\n        }\n    },\n\n    /**\n     * \n     * @param {event} exEvent  \n     * @private\n     */\n    _dragIng: function (exEvent) {\n        target = this._dragingTarget;\n        var crt = new Date();\n        crt = crt - this._lastClickTime;\n        if (target && target.draggable && crt >= this._dragDelay) {\n            // exEvent.target.style.cursor = \"move\";\n            var x = exEvent.offsetX;\n            var y = exEvent.offsetY;\n\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            target.drift(dx, -dy);\n            this.trigger(target, \"draging\", exEvent);\n            // \n            //target.__yh && target.__yh.update();\n            target.RebrushAll();\n        }\n    },\n\n    /**\n     * \n     * @param {event} exEvent  \n     * @private\n     */\n    _dragEnd: function (exEvent) {\n        // exEvent.target.style.cursor = \"default\";\n        target = this._dragingTarget;\n        if (target) {\n            target.dragging = false;\n            this.trigger(target, \"dragend\", exEvent);\n        }\n\n        this._dragingTarget = null;\n    }\n};\n\n\nmixin(Draggable, Eventful, true);\n\nexport default Draggable;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/mixin/draggable.js\n **/","/**\n * @module ychart/core/graphic/mixin\n */\n\n\n/**\n * Dispatch\n *  ReactorDispatch\n * @class\n * @mixin\n */\nvar Eventful = function () {\n    this._handlers = {};\n};\n\n/**\n * \n * @param event  \n * @param handler \n * @param context \n * @returns {Eventful}\n */\nEventful.prototype.on = function (event, handler, context) {\n    var h = this._handlers;\n    if (!h || !event || !handler) {\n        return this;\n    }\n\n    if (!h[event]) {\n        h[event] = [];\n    }\n    h[event].push({\n        _h: handler,\n        _one: false,\n        _ctx: context || this  //\n    });\n\n    return this;\n};\n\n/**\n * . trigger\n * @param event  \n * @param handler \n * @param context \n * @returns {Eventful}\n */\nEventful.prototype.once = function (event, handler, context) {\n    var _h = this._handlers;\n\n    if (!handler || !event) {\n        return this;\n    }\n\n    if (!_h[event]) {\n        _h[event] = [];\n    }\n\n    if (_h[event].indexOf(handler) >= 0) {\n        return this;\n    }\n\n    _h[event].push({\n        _h: handler,\n        _one: true,\n        _ctx: context || this  //\n    });\n\n    return this;\n};\n\n/**\n * /\n * @param event  \n * @param handler   \n * @returns {Eventful}\n */\nEventful.prototype.remove = function (event, handler) {\n    if (!event) {\n        this._handlers = {};\n        return this;\n    }\n\n    var hs = this._handlers[event];\n    if (handler) {\n        var i = 0;\n        for (; i < hs.length; i++) {\n            if (hs[i]._h === handler) {\n                break;\n            }\n            hs.splice(i, 1);\n        }\n        if (hs && hs.length == 0) {\n            delete this._handlers[event];\n        }\n    } else {\n        delete this._handlers[event];\n    }\n\n    return this;\n};\n\nvar arrySlice = Array.prototype.slice;\n\n/**\n * \n * @param eventName \n * @returns {Eventful}\n */\nEventful.prototype.trigger = function (eventName) {\n    var handles = this._handlers[eventName];\n    if (handles) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 3) {\n            args = arrySlice.call(args, 1);\n        }\n        //backbone,,\n        handles.forEach(function (item, index, array) {\n            switch (argLen) {\n                case 1:\n                    item._h.call(item._ctx);\n                    break;\n                case 2:\n                    item._h.call(item._ctx, args[1]);\n                    break;\n                case 3:\n                    item._h.call(item._ctx, args[1], args[2]);\n                    break;\n                default:\n                    item._h.apply(item._ctx, args);\n                    break\n            }\n            if (item._one) {\n                array.splice(index, 1);\n            }\n        });\n    }\n    return this;\n};\n\n\nexport default Eventful;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/mixin/eventful.js\n **/","/**\n * HTML\n * @module ychart/core/graphic/htmlVIew\n */\n\nimport View from \"./view\";\nimport {\n    createDOM\n} from \"../../tool/dom\";\n\n/**\n * @private\n */\nclass DomContent{\n    constructor(config) {\n\n        this._root = createDOM(config.id, \"div\", \"htmlView\",\"absolute\", {left: config.left , top: config.top} ,{width: config.width , height: config.height});\n        this._content = document.createElement(\"div\");\n\n        this.init(config);\n    }\n\n    init(config){\n        this._root.style.border = \"solid 1px #efefef\"; this._root.style.backgroundColor = \"white\";\n        this._root.style.padding = \"5px\";\n\n        if(config.title) this._root.appendChild(this.title);\n\n        this._root.appendChild(this._content);\n\n        if(config.footer) this._root.appendChild(this.footer);\n\n        document.body && document.body.appendChild(this._root);\n    }\n\n    get title(){\n        return document.createElement(\"div\");\n    }\n    get content(){\n        return this._content.innerHTML;\n    }\n    set content(html){\n        this._content.innerHTML = html;\n    }\n    get footer(){\n        return document.createElement(\"div\");\n    }\n    show(){\n        this._root.style.visibility = \"visible\";\n    }\n    hide(){\n        this._root.style.visibility = \"hidden\";\n    }\n    move(x,y){\n        this._root.style.left = x+\"px\";\n        this._root.style.top = y+\"px\";\n    }\n}\n\n\n/**\n * @classdesc HTMLcontextView\n * ContextView\n * @class\n */\nexport default class HtmlView extends View {\n    constructor( option = {}) {\n        super(\"HtmlView\",option);\n\n        /**\n         * DOM\n         * @member {HTMLDOMElement}\n         */\n        this._domcontent = new DomContent({\n            id: this.id+\"Parent\",\n            width: option.width || 0,\n            height: option.height || 0,\n            left: option.left || 0,\n            top: option.top || 0\n        });\n    }\n\n    /**\n     * HtmlView\n     * @method\n     */\n    show() {\n        this._domcontent.show();\n    }\n\n    /**\n     * HTML\n     * @param info {HTMLString} HTML\n     */\n    info(info){\n        this._domcontent.content = info;\n    }\n\n    /**\n     * HtmlVIew\n     * @method\n     */\n    hide() {\n        this._domcontent.hide();\n    }\n\n    /**\n     * \n     * @param x {number} X \n     * @param y {number}  Y \n     */\n    move(x , y){\n        this._domcontent.move(x , y);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/htmlView.js\n **/","/**\n * View\n * @module ychart/core/graphic/view\n */\n\nimport Element from \"./element\";\n/**\n * @class\n * @classdesc  \n * @abstract\n */\nclass View extends Element {\n\n    /**\n     * \n     * @constructor\n     * @param {String} type view\n     * @param {Object} option\n     */\n    constructor(type = \"view\", option = {}) {\n        super(type);\n\n        /**\n         * \n         * @member {boolean}  true\n         * @private\n         */\n        this.__dirty = true;\n\n        /**\n         * \n         * @member {object} null\n         */\n        this.parent = null;\n\n        /**\n         *  \n         * @member {boolean}\n         */\n        this.ignore = option.ignore || false;\n    }\n\n    /**\n     *  \n     * @abstract\n     * @param {Object} option \n     * @throws Error  \n     */\n    /* eslint-disable */\n    Brush(option) {\n        throw new Error(\"\");\n    }\n    /* eslint-enable */\n}\n\nexport default View;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/view.js\n **/","/**\n * \n * @global\n * @module ychart/core/config/style\n */\nexport var DEFAULT_CONFIG = {\n    //\n    position: [0,0],\n    rotation: 0,\n    scale:    [1,1],\n    origin:   [0,0],\n    transform: null,\n\n    //\n    tipoffsetX: 10,\n    tipoffsetY: 0\n};\n\nexport var useRectangularCoordinateSystem = 0;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/config/config.js\n **/","export var throwFunc = function(str) {\n    throw str;\n};\n\nexport var noOp = function() {};\n\nexport var bind1Arg = function(handler, context) {\n    return function(arg1) {\n        return handler.call(context, arg1);\n    };\n};\n\nimport {isArr} from \"./util\";\n\n/**\n * \n * @param {} ctx \n * @param {HTMLElement} \n * @param {Function | Array.{Function}}  [,]\n * @param {Function} \n */\nvar onreadyCallback = function(ctx, element, callback ,loadMethod) {\n    var notCompleteCb = isArr(callback) ? callback[1] : noOp;\n    var completeCb = isArr(callback) ? callback[0] : noOp;\n    if (loadMethod(element)) {\n        completeCb.call(ctx);\n        return;\n    }\n    let timer = setInterval(function() {\n        if (loadMethod(element)) {\n            notCompleteCb.call(ctx);\n            clearInterval(timer);\n            return;\n        }}, 150);\n};\n\nexport var onImgReady = function(ctx , element , callback){\n    var isImageLoaded = function(imgElement){\n        return imgElement.complete && imgElement.naturalHeight !== 0;\n    };\n    onreadyCallback(ctx,element,callback,isImageLoaded);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tool/lang.js\n **/","/**\n * \n * @module ychart/shape/Besier\n */\nimport debugs from \"../tool/debug\"\nimport ShapeBuilder from \"../core/viewBuilder\"\n\nvar warn = debugs.warn;\nvar insiderange = function (val, rg1, rg2) {\n    return val < rg1 || val > rg2;\n};\nvar sqrt = function (val) {\n    return Math.sqrt(val);\n};\nvar abs = function (val) {\n    return Math.abs(val);\n};\nvar atan = function (val) {\n    return Math.atan(val);\n};\nvar sin = function (val) {\n    return Math.sin(val);\n};\nvar cos = function (val) {\n    return Math.cos(val);\n};\nvar floor = function (val) {\n    return Math.floor(val);\n};\nvar radian2angle = function (radian) {\n    return radian * 180 / Math.PI;\n};\n\n/**\n *\n * @class Bezier\n * @classdesc . context.\n * @property {Array.number} beginpt x,y  \n * @property {Array.number} endpt    x,y \n * @property {number} compact 0-10  ,\n * @property {number} systole 0-4 , . 1.1.1-4\n * @constructor Bezier\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"BezierPath\",\n\n    BuildPath: function (ctx, config) {\n        var beginpt = config.beginpt, endpt = config.endpt, compact = config.compact || 5, systole = config.systole;\n\n        var linequadrant = function () {\n            if (beginpt[0] < endpt[0] && beginpt[1] >= endpt[1]) return 1;\n            if (beginpt[0] >= endpt[0] && beginpt[1] > endpt[1]) return 2;\n            if (beginpt[0] > endpt[0] && beginpt[1] <= endpt[1]) return 3;\n            if (beginpt[0] <= endpt[0] && beginpt[1] < endpt[1]) return 4;\n        }();\n        var nextx = function (x, dis) {\n            return beginpt[0] <= endpt[0] ? x + dis : x - dis;\n        };\n        var nexty = function (y, dis) {\n            return beginpt[1] <= endpt[1] ? y + dis : y - dis;\n        };\n        var nexpt_ct = function (pt, dispt, leftorright) {\n            var getrs = function (disx, disy) {\n                if (leftorright === 0) {\n                    return {\n                        x: pt[0] + disx,\n                        y: pt[1] + disy\n                    };\n                } else if (leftorright == 1) {\n                    return {\n                        x: pt[0] - disx,\n                        y: pt[1] - disy\n                    };\n                } else {\n                    warn(\"\");\n                    return null;\n                }\n            };\n            switch (linequadrant) {\n                case 1:\n                    return getrs(-dispt[0], -dispt[1]);\n                case 2:\n                    return getrs(-dispt[0], dispt[1]);\n                case 3:\n                    return getrs(dispt[0], dispt[1]);\n                case 4:\n                    return getrs(dispt[0], -dispt[1]);\n            }\n        };\n        if (insiderange(compact, 1, 10) || insiderange(systole, 0, 4)) {\n            warn(\"\");\n            return;\n        }\n        var piece = 2 * compact;\n        var dispiece = sqrt(this.getDistance(beginpt, endpt) / piece);\n        var h = dispiece / 2 * systole;\n        var linevert_angleor = atan(abs(endpt[0] - beginpt[0]) / abs(endpt[1] - beginpt[1]));\n\n        var linectx_dis = abs(endpt[0] - beginpt[0]) / piece;\n        var linecty_dis = abs(endpt[1] - beginpt[1]) / piece;\n\n        var allctpt = [];\n        var allctinlinept = [];\n        var alllinectpt = [];\n        alllinectpt.push({\n            x: beginpt[0],\n            y: beginpt[1]\n        }, {\n            x: nextx(beginpt[0], linectx_dis),\n            y: nexty(beginpt[1], linecty_dis)\n        });\n        allctinlinept.push({\n            x: nextx(beginpt[0], linectx_dis / 2),\n            y: nexty(beginpt[1], linecty_dis / 2)\n        }, {\n            x: nextx(nextx(beginpt[0], linectx_dis / 2), linectx_dis),\n            y: nexty(nexty(beginpt[1], linecty_dis / 2), linecty_dis)\n        });\n        var dispt = {\n            x: cos(linevert_angleor) * h,\n            y: sin(linevert_angleor) * h\n        };\n        allctpt.push(nexpt_ct(allctinlinept[0], dispt, 0), nexpt_ct(allctinlinept[1], dispt, 1));\n        var i;\n        for (i = 2; i < piece; i++) {\n            allctinlinept.push({\n                x: nextx(allctinlinept[i - 1][0], linectx_dis),\n                y: nexty(allctinlinept[i - 1][1], linecty_dis)\n            });\n            alllinectpt.push({\n                x: nextx(alllinectpt[i - 1][0], linectx_dis),\n                y: nexty(alllinectpt[i - 1][1], linecty_dis)\n            });\n            allctpt.push(nexpt_ct(allctinlinept[i], dispt, i % 2));\n        }\n        //\n        alllinectpt.push({\n            x: nextx(alllinectpt[i - 1][0], linectx_dis),\n            y: nexty(alllinectpt[i - 1][1], linecty_dis)\n        });\n\n        ctx.moveTo(beginpt[0], beginpt[1]);\n        for (i = 1; i < allctpt.length; i++) {\n            ctx.quadraticCurveTo(allctpt[i - 1][0], allctpt[i - 1][1], alllinectpt[i][0], alllinectpt[i][1]);\n        }\n        ctx.quadraticCurveTo(allctpt[i - 1][0], allctpt[i - 1][1], alllinectpt[i][0], alllinectpt[i][1]);\n\n        config.style.brushType = \"stroke\";\n\n    }\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shape/Bezier.js\n **/","import {isObj,isArr} from \"./util\";\n\nvar dbpre = \"DamJs Debug Info :    \";\nvar wnpre = \"DamJs warn Info :    \";\nvar dbprespace = function () {\n    var i = 0, rs = \"      \";\n    for (i = 0; i < dbpre.length; i++) {\n        rs += \" \";\n    }\n    return rs;\n}();\n\nvar debug = function (info) {\n    console.log(dbpre + info);\n};\n\nvar warn = function (info) {\n    console.log(wnpre + info);\n};\n\nvar isobj = false;\nvar printobj = function (obj) {\n    function _printObj(obj) {\n        var ele;\n        if (isObj(obj)) {\n            for (ele in obj) {\n                if (isObj(obj[ele])) {\n                    debug(ele + \" : \");\n                    isobj = true;\n                    printobj(obj[ele]);\n                    isobj = false;\n                } else {\n                    if (isobj) {\n                        console.log(dbprespace + ele + \" : \" + obj[ele]);\n                    }\n                    else\n                        debug(ele + \" : \" + obj[ele]);\n                }\n            }\n        } else if (isArr(obj)) {\n            var len = obj.length;\n            for (var i = 0; i < len; i++) {\n                printobj(obj[i]);\n            }\n        }\n    }\n\n    _printObj(obj);\n    isobj = false;\n};\n\nexport default {\n    printobj,\n    debug,\n    warn\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tool/debug.js\n **/","/**\n * \n * @module  ychart/graphic/viewBuilder\n */\nimport ContextView from \"./graphic/contextView\";\nimport { isType ,isFunc} from \"../tool/util\";\nimport debugs from \"../tool/debug\";\n\nvar REQUIRED_CHILD = {\n    type: \"String\",\n    BuildPath: \"Function\"\n};\n\n\n/**\n * @description canvas \n * @param {object} defaults \n * @returns {BaseContextView} \n */\nvar baseContextViewExtend = function (defaults) {\n    if (debugs.open) {\n        for (var item in REQUIRED_CHILD) {\n            if (!isType(REQUIRED_CHILD[item])(defaults[item])) {\n                debugs.debug(\"\" + item + \"  \"\n                    + REQUIRED_CHILD[item] + \" : \" + (typeof defaults[item]));\n                debugs.printobj(defaults);\n                return null;\n            }\n        }\n    }\n\n    /**\n     * @class\n     * @classdesc ychart.\n     */\n    class BaseContextView extends ContextView {\n        constructor(baseOption) {\n            super(defaults.type, baseOption);\n            if(isFunc(defaults[\"Init\"])){\n                defaults[\"Init\"].call(this,baseOption);\n            }\n        }\n        zoom(x, y){\n            super.zoom(x , y);\n        }\n    }\n\n    for(var prop in defaults){\n        BaseContextView.prototype[prop] = defaults[prop];\n    }\n\n    return BaseContextView;\n};\n\nexport default {\n    baseContextViewExtend\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/viewBuilder.js\n **/","/**\n * canvas\n * @module ychart/core/graphic/contextview\n */\n\nimport View from \"./view\";\nimport Transform from \"./mixin/transform\";\nimport Eventful from \"./mixin/eventful\";\nimport Moveable from \"./mixin/moveable\";\nimport OptionProxy from \"../config/OptionProxy\";\nimport text from \"./helper/text\";\n\nimport {\n    mixin\n} from \"../../tool/klass\";\n\nimport {\n    isPtInPath,\n    isPtInRect\n} from \"./helper/viewutil\";\n\nimport {\n    getRectByCtx\n} from \"../../tool/dom.js\";\n\n/**\n * @classdesc canvasCanvasRenderingContext2D,\n *  \n * \n * @class\n * @abstract\n */\nclass ContextView extends View {\n\n    /**\n     * @param {String} type  . ContextView\n     * @param {Object} option  \n     * @constructor\n     */\n    constructor(type = \"ContextView\", option = {}) {\n        super(type, option);\n\n        this.configProxy = new OptionProxy(this.defaultConfig, option);\n\n        /**\n         * \n         * ychart\n         * @member {object}\n         * @private\n         */\n        this.__yh = null;\n\n        Transform.call(this, option);\n        Eventful.call(this);\n    }\n\n    /**\n     * \n     * \n     * @property {Object}  config  \n     * @default {style:{}}\n     */\n    // static defaultConfig = {\n    // style:{\n    // }\n    // }\n\n\n    /**\n     * \n     * \n     * @property {number} coordinate o1 \n     * @default 10\n     */\n    get coordinate() {\n        return this.configProxy.getConfig().coordinate;\n    }\n\n    set coordinate(val) {\n        this.configProxy.update({\n            coordinate: val\n        });\n    }\n\n    /**\n     *\n     * @property {boolean} Draggable \n     * @default true\n     */\n    get draggable() {\n        return this.config.draggable === undefined ? true : this.config.draggable;\n    }\n\n    /**\n     * canvas\n     * @property {Number} zLevel\n     * @default 0\n     */\n    get zLevel() {\n        return this.config.zLevel || 0;\n    }\n\n    /**\n     * @property {Object} config shapa\n     * @returns {Object}\n     */\n    get config() {\n        return this.configProxy.getConfig();\n    }\n\n    /**\n     * @property {boolean} getable \n     * @default true\n     * @return boolean\n     */\n    get getable() {\n        return typeof this.config.getable === \"undefined\" ? true : this.config.getable;\n    }\n\n    /**\n     * ychart. \\\n     */\n    RebrushAll() {\n        this.__yh && this.__yh.update();\n    }\n\n    /**\n     * context\n     * @method\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    /* eslint-disable */\n    BeforeBrush(ctx, config) {}\n\n    /**\n     * context\n     * @method\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    AfterBrush(ctx, config) {}\n\n    /**\n     * \n     * @return {Array.<Number>} rect\n     */\n    GetContainRect() {\n            return this.rect;\n        }\n        /*eslint-enable */\n\n    /**\n     * context\n     * @method\n     * @private\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    __BeforeBrush(ctx, config) {\n        ctx.save();\n\n        this.__SetShapeTransform(ctx, config);\n\n        this.configProxy.bindContext(ctx);\n\n        this.BeforeBrush(ctx, config);\n\n        ctx.beginPath();\n    }\n\n    /**\n     * \n     * @method\n     * @private\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    __SetShapeTransform(ctx) {\n        if (this.coordinate === 0) {\n            let rct = this.getRectByCtx(ctx);\n            //ctx.translate(0, rct[1]);\n            //ctx.scale(1, -1);\n            //this.rotation = Math.PI / 2;\n            //this.position = [0,rct[1]];\n            //this.position[1] += rct[1];\n            //this.rotation = Math.PI /2;\n        }\n\n        this.updateTransform();\n\n        this.setTransform(ctx);\n\n    }\n\n    /**\n     * canvas\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    getRectByCtx(ctx) {\n        return getRectByCtx(ctx);\n    }\n\n    /**\n     * context\n     * @method\n     * @private\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    __AfterBrush(ctx, config) {\n        var tp = this.configProxy.getBrushType();\n        /* eslint-disable */\n        switch (tp) {\n            case \"both\":\n            case \"all\":\n                ctx.fill();\n                ctx.stroke();\n                break;\n            case \"stroke\":\n                ctx.stroke();\n                break;\n            case \"fill\":\n                ctx.fill();\n                break;\n            case \"none\":\n                break;\n            default:\n                ctx.fill();\n                break;\n        }\n        /* eslint-enable */\n        ctx.restore();\n\n        this.AfterBrush(ctx, config);\n    }\n\n    /**\n     *  \n     * @abstract\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {object} config --\n     */\n    /* eslint-disable*/\n    BuildPath(ctx, config) {\n            //\n            throw new Error(\" unsurported operation -- can't build shape path\");\n        }\n        /* eslint-enable */\n\n    /**\n     *  \n     * @method\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    Brush(ctx) {\n        var config = this.config;\n\n        if (!config.ignore) {\n            //\n            this.__BeforeBrush(ctx, config);\n            //\n            this.BuildPath(ctx, config);\n            //\n            this.__AfterBrush(ctx, config);\n\n            this.DrawText(ctx, config);\n        }\n    }\n\n    /**\n     *  \n     * @param {object} option\n     */\n    setOption(option) {\n        this.configProxy.update(option);\n        this.__dirty = true;\n    }\n\n    /**\n     * \n     * @param {Number} x   x\n     * @param {Number} y   y\n     */\n    contain(x, y) {\n        var local = this.transformCoordToLocal(x, y);\n        return this.getable &&\n            (isPtInRect(this.GetContainRect(), local[0], local[1]) ||\n                isPtInPath(this, this.config, x, y));\n    }\n\n    /**\n     * \n     * @param {CanvasRenderingContext2D} ctx\n     * @param {object} config --\n     */\n    DrawText(ctx, config) {\n        if (!config.text) {\n            return;\n        }\n        var crect = this.GetContainRect();\n        if (!crect) {\n            return;\n        }\n        var x = crect[0] + (crect[2] - crect[0]) / 2;\n        var y = crect[1] + (crect[3] - crect[1]) / 2;\n\n        var st = this.configProxy.getStyle();\n        /* eslint-disable */\n        let textw = text.getTextWidth(config.text, st.font);\n        let texth = text.getTextHeight(config.text ,st.font);\n        switch (config.textpos) {\n            case \"top-center\":\n                x -= textw/2;\n                y = crect[1];\n                break;\n            case \"top-left\":\n            case \"left-top\":\n                x = crect[0];\n                y = crect[1];\n                break;\n            case \"top-right\":\n                x = crect[2] - wh;\n                y = crect[1];\n                break;\n            case \"left-center\":\n                x = crect[0];\n                y -= texth/2;\n                st.textBaseline = \"top\";\n                break;\n            case \"left-bottom\":\n                x = crect[0];\n                y = crect[3];\n                break;\n            case \"bottom-center\":\n                y = crect[3];\n                x -= textw/2;\n                break;\n            case \"bottom-right\":\n                y = crect[3];\n                x = crect[2]-textw;\n            case \"right-center\":\n                x = crect[2]-textw;\n                y -= texth/2;\n                st.textBaseline = \"top\";\n                break;\n            default:\n                x -= textw/2;\n                y -= texth/2;\n                st.textBaseline = \"top\";\n        }\n        /* eslint-disable */\n        ctx.save();\n        //\n        if (st.textColor) {\n            ctx.fillStyle = st.textColor;\n        }\n        //this.rotation = Math.PI;\n        ctx.setTransform(1,0,0,1,0,0);\n        //this.setTransform(1,0,0,-1,0,600);\n        //\n        //var rect = getRectByCtx(ctx);\n        text.fillText(ctx, config.text, x, y, st.font, st.textAlign, st.textBaseline);\n        ctx.restore();\n    }\n}\n\n\nmixin(ContextView, Transform, true);\nmixin(ContextView, Eventful, true);\nmixin(ContextView, Moveable, true);\n\nexport default ContextView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/contextView.js\n **/","/**\n *   {@link module:ychart/core/config/styleProxy}\n * @module ychart/core/config/optionProxy\n */\n\n\nimport styleProxy from \"./StyleProxy\"\n\nimport {\n    DEFAULT_CONFIG,\n    useRectangularCoordinateSystem\n} from \"./config\"\n\nimport {\n    checkNull,\n    merge\n} from \"../../tool/util\"\n/**\n * \n *  \n * styleProxy \n *\n * @class\n * @param config\n */\nvar OptionProxy = function(...option) {\n    /**\n     * \n     * @member {boolean}\n     * @default null\n     */\n    this.styleProxy = null;\n\n\n    /**\n     * \n     *   style  \n     * @member {object}\n     */\n    this.config = {\n        style: {}\n    };\n\n    this.init(option);\n};\n\n\nvar item;\n\n/**\n *  \n * @param config\n */\nOptionProxy.prototype.init = function(configs) {\n    var config = {};\n    merge(config, configs, true)\n\n    for (let item in config) {\n        if (item) {\n            if (item != \"style\") {\n                this.config[item] = config[item];\n            } else {\n                this.styleProxy = new styleProxy(config[item]);\n            }\n        }\n    }\n\n    if (this.styleProxy == null) {\n        this.styleProxy = new styleProxy();\n    }\n    this.config[\"coordinate\"] = this.config.coordinate || useRectangularCoordinateSystem;\n\n    this.config.style = this.styleProxy.getStyle();\n};\n\n/**\n * \n * @returns {object} config\n */\nOptionProxy.prototype.getConfig = function(width, height) {\n    return this.config;\n};\n\n/**\n * \n * @returns {OptionProxy.config.style|{}}\n */\nOptionProxy.prototype.getStyle = function() {\n    return this.config.style || {};\n};\n\n/**\n * \n * @param context\n */\nOptionProxy.prototype.bindContext = function(context) {\n    this.styleProxy.bindContext(context);\n};\n\n/**\n *  \n * @param context\n */\nOptionProxy.prototype.getBrushType = function(context) {\n    return this.styleProxy.getBrushType();\n};\n\n/**\n * \n * @param option\n */\nOptionProxy.prototype.update = function(config) {\n    for (item in config) {\n        if (item) {\n            if (item != \"style\") {\n                this.config[item] = config[item];\n            } else {\n                this.styleProxy.update(config[item]);\n            }\n        }\n    }\n    this.config.style = this.styleProxy.getStyle();\n};\n\n\nexport default OptionProxy;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/config/OptionProxy.js\n **/","/**\n * \n *\n */\nimport {isObj, merge} from \"../../tool/util\"\nimport Style from \"./style\"\n\nvar defaultStyle = Style.style;\nvar styleMapper = Style.styleMap;\n\n/**\n *  \n * @class\n */\nvar StyleProxy = function (style) {\n    style = style || {};\n    this.style = merge(new defaultStyle(), style, true, styleMapper);\n    this.brushType = null;\n    this.init(style);\n};\n\nStyleProxy.prototype.init = function (style) {\n    this.brushType = style.brushType ? style.brushType :\n        style.strokeStyle ?\n            (style.fillStyle ? 'both' : 'stroke') :\n            (style.fillStyle ? \"fill\" : \"none\");\n};\n\nStyleProxy.prototype.bindContext = function (ctx) {\n    var style = this.style;\n    for (var prop in style) {\n        ctx[prop] = style[prop];\n    }\n    // fillStyle\n    if (isObj(style.gradient)) {\n        var _gradient = ctx.createLinearGradient(style.gradient.beginpt[0], style.gradient.beginpt[1],\n            style.gradient.endpt[0], style.gradient.endpt[1]);\n\n        _gradient.addColorStop(0, style.gradient.beginColor);\n        _gradient.addColorStop(1, style.gradient.endColor);\n        ctx.fillStyle = _gradient;\n    }\n};\n\nStyleProxy.prototype.update = function (_style) {\n    if (_style) {\n        merge(this.style, _style, true, styleMapper);\n        this.init(_style);\n    }\n};\n\nStyleProxy.prototype.getBrushType = function (style) {\n    return this.brushType;\n};\n\nStyleProxy.prototype.getStyle = function () {\n    return this.style;\n};\n\nexport default StyleProxy;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/config/StyleProxy.js\n **/","/**\n * \n * @module ychart/core/config/style\n */\nvar styleMap = {\n\n    fillStyle: \"fillStyle\",\n    fillColor: \"fillStyle\",\n    color: \"fillStyle\",\n\n    strokeStyle: \"strokeStyle\",\n    lineColor: \"strokeStyle\",\n    lineWidth: \"lineWidth\",\n    lineCap: \"lineCap\",\n    lineJoin: \"lineJoin\",\n    font: \"font\",\n\n    textAlign: \"textAlign\",\n    textBaseline: \"textBaseline\",\n\n    shadowColor: \"shadowColor\",\n    shadowOffsetX: \"shadowOffsetX\",\n    shadowOffsetY: \"shadowOffsetY\",\n    shadowBlur: \"shadowBlur\",\n    shadowx: \"shadowOffsetX\",\n    shadowy: \"shadowOffsetY\",\n\n    globalAlpha: \"globalAlpha\",\n    alpha: \"globalAlpha\",\n    globalCompositionOperation: \"globalCompositionOperation\",\n    overlaystyle: \"globalCompositionOperation\"\n};\n\n\n/**\n * @classdesc  \n * \n * canvas.\n * \n * CONFIGstyle\n * @class\n */\nvar style = function () {\n};\n\n\nstyle.prototype = {\n    /**\n     * \n     * \n     *  : lineColor\n     * @type string\n     * @default blue\n     */\n    strokeStyle: \"blue\",\n\n    /**\n     * fill\n     * \n     *   fillColor  color\n     * @type string\n     * @default #dcd5d9\n     */\n    fillStyle: \"#dcd5d9\",\n\n    /**\n     * \n     * @type number\n     * @default 1\n     */\n    lineWidth: 1,\n\n    /**\n     * . buttroundsquare\n     * @type string\n     * @default round\n     */\n    lineCap: \"round\",\n\n    /**\n     * bevel,miter. ,.\n     * @type string\n     * @default round\n     */\n    lineJoin: \"round\",\n\n    /**\n     * \n     * @type string\n     * @default bold 14px Arial, Helvetica, sans-serif, Times, serif\n     */\n    font: \"bold 14px Arial, Helvetica, sans-serif, Times, serif\",\n\n    /**\n     *  strokeStyle\n     * canvasycharts\n     * @type string\n     * @default black\n     */\n    textColor: \"black\", // canvas\n\n    /**\n     * \n     * @type string\n     * @default start\n     */\n    textAlign: \"start\",\n\n    /**\n     * \n     * @type string\n     * @default bottom\n     */\n    textBaseline: \"bottom\",\n\n    /**\n     * \n     * @type string\n     * @default #EA9090\n     */\n    shadowColor: \"#EA9090\",\n\n    /**\n     * X\n     * @type number\n     * @default  shadowOffsetX\n     */\n    shadowOffsetX: 0,\n\n    /**\n     * Y\n     * @type number\n     * @default shadowOffsetY\n     */\n    shadowOffsetY: 0,\n\n    /**\n     * \n     * @type number\n     * @default 0\n     */\n    shadowBlur: 0,\n\n    /**\n     *   0\n     * @type number\n     * @default 1\n     */\n    globalAlpha: 1,\n\n    /**\n     * \n     * @type string\n     * @default source-over\n     */\n    globalCompositionOperation: \"source-over\"\n\n};\n\n\nexport default {\n    style: style,\n    styleMap: styleMap\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/config/style.js\n **/","//\n\nimport Style from \"../../config/style\"\nimport {\n    getContext\n} from \"./viewutil\"\n\nvar st = new Style.style();\n\nvar defaultFont = st.font;\nvar defaultAlign = st.textAlign;\nvar defaultBaseline = st.textBaseline;\n\nvar _ctx = getContext();\n\nvar TextUtil = {\n    TEXT_CACHE_MAX: 5000,\n\n    _textHeightCache: [],\n    _textHeightCacheCounter: 0,\n\n    getTextHeight: function(text, textFont) {\n        textFont = textFont || defaultFont;\n        var key = text + ':' + textFont;\n        if (TextUtil._textHeightCache[key]) {\n            return TextUtil._textHeightCache[key];\n        }\n\n        _ctx.save();\n        if (textFont) {\n            _ctx.font = textFont;\n        }\n\n        text = (text + '').split('\\n');\n        // \n        var height = (_ctx.measureText('').width + 2) * text.length;\n\n        _ctx.restore();\n\n        TextUtil._textHeightCache[key] = height;\n        if (++TextUtil._textHeightCacheCounter > TextUtil.TEXT_CACHE_MAX) {\n            // \n            TextUtil._textHeightCacheCounter = 0;\n            TextUtil._textHeightCache = {};\n        }\n        return height;\n    },\n    _textWidthCache: [],\n    _textWidthCacheCounter: 0,\n\n    getTextWidth: function(text, textFont) {\n\n        textFont = textFont || defaultFont;\n        var key = text + ':' + textFont;\n        if (TextUtil._textWidthCache[key]) {\n            return TextUtil._textWidthCache[key];\n        }\n        _ctx.save();\n\n        if (textFont) {\n            _ctx.font = textFont;\n        }\n\n        text = (text + '').split('\\n');\n        var width = 0;\n        for (var i = 0, l = text.length; i < l; i++) {\n            width = Math.max(\n                _ctx.measureText(text[i]).width,\n                width\n            );\n        }\n        _ctx.restore();\n\n        TextUtil._textWidthCache[key] = width;\n        if (++TextUtil._textWidthCacheCounter > TextUtil.TEXT_CACHE_MAX) {\n            // \n            TextUtil._textWidthCacheCounter = 0;\n            TextUtil._textWidthCache = {};\n        }\n\n        return width;\n    },\n    /*\n     * @param {Canvas} ctx \n     * @param {string} text \n     * @param {number} x X\n     * @param {number} y Y\n     * @param {string} textFont \n     */\n    getTextRect: function(text, x, y, textFont, textAlign, textBaseline) {\n\n        textFont = textFont || defaultFont;\n        textAlign = textAlign || defaultAlign;\n        textBaseline = textBaseline || defaultBaseline;\n\n        var width = TextUtil.getTextWidth(text, textFont);\n        var lineHeight = TextUtil.getTextHeight('', textFont);\n\n        text = (text + '').split('\\n');\n\n        switch (textAlign) {\n            case 'end':\n            case 'right':\n                x -= width;\n                break;\n            case 'center':\n                x -= (width / 2);\n                break;\n        }\n\n        switch (textBaseline) {\n            case 'top':\n                break;\n            case 'bottom':\n                y -= lineHeight * text.length;\n                break;\n            default:\n                y -= lineHeight * text.length / 2;\n        }\n\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: lineHeight * text.length\n        };\n    }\n};\n\n\nfunction _fillText(ctx, text, x, y, textFont, textAlign, textBaseline) {\n    if (textFont) {\n        ctx.font = textFont;\n    }\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n\n    var rect = TextUtil.getTextRect(\n        text, x, y, textFont, textAlign, textBaseline\n    );\n\n    text = (text + \"\").split(\"\\n\");\n\n    var lineHeight = TextUtil.getTextHeight(\"\", textFont);\n\n    switch (textBaseline) {\n        case \"top\":\n            y = rect.y;\n            break;\n        case \"bottom\":\n            y = rect.y + lineHeight;\n            break;\n        default:\n            y = rect.y + lineHeight / 2;\n    }\n\n    for (var i = 0, l = text.length; i < l; i++) {\n        ctx.fillText(text[i], x, y);\n        y += lineHeight;\n    }\n}\n\nexport default {\n    fillText: _fillText,\n    getTextRect: TextUtil.getTextRect,\n    getTextWidth: TextUtil.getTextWidth,\n    getTextHeight: TextUtil.getTextHeight\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/helper/text.js\n **/","//isPointInStrokeIE\nif (typeof CanvasRenderingContext2D.prototype.isPointInStroke == \"undefined\") {\n    CanvasRenderingContext2D.prototype.isPointInStroke = function(path, x, y) {\n        return this.isPointInPath(x, y);\n    };\n}\n\nvar _ctx = null;\n\nfunction createCanvas() {\n    return document.createElement(\"canvas\");\n}\n\nexport var getContext = function() {\n    if (!_ctx) {\n        _ctx = createCanvas().getContext(\"2d\");\n    }\n    return _ctx;\n};\n\nexport var isPtInRect = function(rect, x, y) {\n    return rect && (rect[0] <= x &&\n                    rect[2] >= x &&\n                    rect[1] <= y &&\n                    rect[3] >= y);\n};\n\n//todo \nexport var isPtInPath = function(shape, config, x, y) {\n    var ctx = getContext();\n    ctx.save();\n    //\n    shape.__BeforeBrush(ctx, config);\n    //\n    shape.BuildPath(ctx, config);\n    var rs;\n    var type = shape.configProxy.getBrushType();\n    //+isPointInPath\n    if (type == \"all\" || type == \"fill\") {\n        rs = ctx.isPointInPath(x, y);\n    } else {\n        rs = ctx.isPointInStroke(x, y);\n    }\n    ctx.restore();\n    return rs;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/graphic/helper/viewutil.js\n **/","/**\n * \n * @module ychart/shape/Circle\n */\n\nimport ShapeBuilder from \"../core/viewBuilder\";\n\n/**\n * \n * @class Circle\n * @property {number} x x\n * @property {number} y y\n * @property {number} r \n * @constructor Circle\n * */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    /**\n     *   \n     * @param {object} option  \n     * @private\n     */\n    Init: function (config) {\n        this.origin = [config.x,config.y];\n    },\n\n    type: \"circle\",\n\n    BuildPath: function (ctx, config) {\n        ctx.arc(config.x, config.y, config.r, Math.PI * 2,\n            config.startangel || 0, config.endangel || Math.PI * 2);\n    },\n\n    GetContainRect: function(){\n        var config = this.config;\n        if(this.dirty || !this.rect){\n            this.rect = [config.x - config.r,config.y-config.r ,config.x+config.r,config.y+config.r];\n        }\n        return this.rect;\n    }\n\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shape/Circle.js\n **/","/**\n * \n * @module ychart/shape/Line\n */\nimport ShapeBuilder from \"../core/viewBuilder\";\n\n/**\n * \n * @class Line\n * @property {number} x0 , y0 \n * @property {number} x1 ,y1 \n * @property {number} splitnum  .\n * @constructor Line\n * @extends ContextView\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"Line\",\n\n    BuildPath: function(ctx, config) {\n        if (config.splitnum) {\n            var splitnum = config.splitnum || 1;\n            var splitlen_x = (config.x1 - config.x0) / splitnum / 2;\n            var splitlen_y = (config.y1 - config.y0) / splitnum / 2;\n            for (var i = 0; i < splitnum; i++) {\n                ctx.moveTo(config.x0 + i * 2 * splitlen_x, config.y0 + i * 2 * splitlen_y);\n                ctx.lineTo(config.x0 + i * 2 * splitlen_x + splitlen_x, config.y0+ i * 2 * splitlen_y + splitlen_y);\n            }\n        } else {\n            ctx.moveTo(config.x0, config.y0);\n            ctx.lineTo(config.x1, config.y1);\n        }\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shape/Line.js\n **/","/**\n * \n * @module ychart/shape/Rect\n */\n\nimport ShapeBuilder from \"../core/viewBuilder\";\n\nvar minx = 99999,\n    miny = 99999,\n    maxx = -99999,\n    maxy = -99999;\n\n/**\n * @class Rect\n * @classdesc . \n * @property  {Array.number}  allpt [[0,0],[10,10]]\n * @property  {boolean} notClose .\n * @constructor Rect\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"Rect\",\n\n    BuildPath: function(ctx, config) {\n        ctx.moveTo(config.pts[0][0], config.pts[0][1]);\n        for (var i = 1; i < config.pts.length; i++) {\n            ctx.lineTo(config.pts[i][0], config.pts[i][1]);\n        }\n        if (!config.notClose) {\n            ctx.closePath();\n        }\n    },\n\n    GetContainRect: function() {\n        if (!this.rect) {\n\n            var i = 0,\n                tmp;\n            for (i = 0; i < this.config.pts.length; i++) {\n                tmp = this.config.pts[i];\n                if (tmp[0] < minx) {\n                    minx = tmp[0];\n                }\n                if (tmp[1] < miny) {\n                    miny = tmp[1];\n                }\n                if (tmp[0] > maxx) {\n                    maxx = tmp[0];\n                }\n                if (tmp[1] > maxy) {\n                    maxy = tmp[1];\n                }\n            }\n            this.rect = [minx , miny ,maxx ,maxy];\n        }\n        return this.rect;\n    }\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shape/Rect.js\n **/","/**\n * \n * @module ychart/shape/Triangle\n */\nimport ShapeBuilder from \"../core/viewBuilder\";\n\n/**\n * \n * @class Triangle\n * @property {number} beginpt \n * @property {number} width  \n * @property {number} height \n * @property {number} direction bottom  \n * @constructor Triangle\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    type: \"triangle\",\n\n    BuildPath: function(ctx, config) {\n        ctx.moveTo(config.beginpt[0], config.beginpt[1]);\n        ctx.lineTo(config.beginpt[0] + config.width, config.beginpt[1]);\n        var pt = [config.beginpt[0] + config.width / 2, config.beginpt[1] + config.height];\n        //\n        if (config.direction == \"bottom\") {\n            pt[1] = config.beginpt[1] - config.height;\n        }\n        ctx.lineTo(pt[0], pt[1]);\n        ctx.lineTo(config.beginpt[0], config.beginpt[1]);\n        config.style.brushType = config.style.brushType || \"stroke\";\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shape/Triangle.js\n **/","/**\n * \n * @module ychart/shape/Text\n */\nimport {\n    checkNull\n} from \"../tool/util\";\nimport utext from \"../core/graphic/helper/text\";\nimport ShapeBuilder from \"../core/viewBuilder\";\n/**\n * \n * \n * Y\n * @class Text\n * @property {string} text \n * @property {Array.number} beginpt \n * @constructor YText\n */\nexport default ShapeBuilder.baseContextViewExtend({\n    defaultConfig: {\n        coordinate: 1\n    },\n\n    type: \"Text\",\n\n    BuildPath: function(ctx, config) {\n        config.style.brushType = \"none\";\n    },\n\n    DrawText: function(ctx, config) {\n        if (checkNull(config.text)) {\n            return;\n        }\n        ctx.save();\n\n        //\n        if (!checkNull(config.style.textColor)) {\n            ctx.fillStyle = config.style.textColor;\n        }\n\n        var rect = this.getRectByCtx(ctx);\n\n        var y = rect[1] - config.dy;\n\n        if (this.coordinate == -1) {\n            y = config.dy;\n        }\n\n        var textparams = [config.text, config.dx, y, config.style.font, config.style.textAlign, config.style.textBaseline];\n\n        utext.fillText(ctx, textparams[0], textparams[1], textparams[2], textparams[3], textparams[4], textparams[5]);\n\n        //\n        if (this.__dirty || !this.containRect) {\n            let textrect = utext.getTextRect(textparams[0], textparams[1], textparams[2], textparams[3], textparams[4], textparams[5]);\n            this.containRect = [textrect.x, textrect.y, textrect.x + textrect.width, textrect.y + textrect.height];\n        }\n\n        ctx.restore();\n    },\n\n    GetContainRect: function() {\n        return this.containRect;\n    }\n\n    /* IsPtInPath: function(){\n        return true;\n    } */\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shape/YText.js\n **/","/**\n * \n * @module ychart/shape/Image\n */\nimport ShapeBuilder from \"../core/viewBuilder\";\nimport {\n    isArr,\n    checkNull\n} from \"../tool/util\";\n\nimport {\n    onImgReady\n} from \"../tool/lang\";\n\n/**\n * \n * @class Image\n * :\n *  <br>(image, dx, dy);\n *  <br>(image, dx, dy, dWidth, dHeight);\n *  <br>(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n *  \\ \\ \n * @property {HTMLImage} image HTMLImage DOM Image\n * @property {String} imagesrc src Ychart,. imageImage\n * @property {number} dx X  0\n * @property {number} dy Y  0\n * @property {number} dWidth   \n * @property {number} dHeight   \n * @property {number} sx X  \n * @property {number} sy Y  \n * @property {number} sWidth   \n * @property {number} sHeight   \n * @property {Object} style .\n * @constructor Image\n * @extends ContextView\n */\nexport default ShapeBuilder.baseContextViewExtend({\n\n    defaultConfig: {\n        coordinate: 1\n    },\n\n    /**\n     *   \n     * @param {object} option  \n     * @private\n     */\n    Init: function(config) {\n        this.origin = this.origin || [];\n        //\n        if (typeof config.image != \"string\") {\n            this.image = config.image;\n            this.__setOrigin(this.image);\n        } else {\n            this.image = new Image();\n            let _this = this;\n            this.image.onload = function() {\n                this.image = null;\n                _this.__setOrigin(_this.image);\n            };\n            this.image.src = config.image;\n        }\n    },\n\n    /**\n     *  \n     * @private\n     */\n    __setOrigin: function(image) {\n        var config = this.config;\n        var rect = [];\n        if (config.dWidth && config.dHeight) {\n            this.origin[0] = config.dx || 0 + config.dWidth / 2;\n            this.origin[1] = rect[1] - config.dy || 0 + config.dHeight / 2;\n        } else {\n            this.origin[0] = config.dx || 0 + image.width / 2;\n            this.origin[1] = rect[1] - config.dy || 0 + image.height / 2;\n        }\n    },\n\n    type: \"Image\",\n\n    /**\n     *  \n     * canvas\n     *  \n     * coordinate-1.\n     * @private\n     */\n    BuildPath: function(ctx, config) {\n        var buildImagePath1 = function() {\n            var image = this.image || config.image;\n            if (image) {\n                numberOrZero(config, [\"dx\", \"dy\", \"sx\", \"sy\"]);\n                let dy = config.dy;\n                let sWidth = config.sWidth || image.width;\n                let sHeight = config.sHeight || image.height;\n                let dWidth = config.dWidth || image.width;\n                let dHeight = config.dHeight || image.height;\n                if (this.coordinate == 1) {\n                    let rect = this.getRectByCtx(ctx);\n                    dy = rect[1] - dHeight - dy;\n                }\n                ctx.drawImage(image, config.sx, config.sy, sWidth, sHeight, config.dx, dy, dWidth, dHeight);\n                this.rect = [config.dx, dy, config.dx + dWidth, dy + dHeight];\n            }\n        };\n        onImgReady(this, this.image, [buildImagePath1, function() {\n            this.RebrushAll();\n        }]);\n    },\n\n    GetContainRect: function() {\n        return this.rect;\n    }\n});\n\nfunction numberOrZero(obj, fields) {\n    if (isArr(fields)) {\n        fields.forEach(field => {\n            obj[field] = (checkNull(obj[field]) || isNaN(obj[field])) ? 0 : obj[field];\n        });\n    } else {\n        obj[fields] = (checkNull(obj[fields]) || isNaN(obj[fields])) ? 0 : obj[fields];\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/shape/Image.js\n **/","/**\n *\n * @module ychart/animation\n */\n\nvar requestAnimFrame = (window !== undefined &&\n    (window.requestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.oRequestAnimationFrame\n    || window.msRequestAnimationFrame))\n    || function (callback) {\n        window.setTimeout(callback, 1000 / 60);\n    };\n\nvar Nop = function () {\n    return true;\n};\n\n/**\n * @function\n * @description \n * @param option\n */\nvar animate = function (option) {\n    var onBegin = option.onBegin || Nop,\n        onChanging = option.onChanging || Nop,\n        onEnd = option.onEnd || Nop,\n        beginDelay = option.beginDelay || 0;\n\n    (function frame(beginResult) {\n        if (onEnd()) {\n            return;\n        }\n        onChanging(beginResult);\n\n        requestAnimFrame(frame);\n    })(function(){\n        setTimeout(onBegin,beginDelay);\n    }());\n};\n\nexport default {\n    animate: animate\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/animation/animation.js\n **/"],"sourceRoot":""}