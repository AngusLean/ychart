<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Image测试</title>
<script type="text/javascript" src="../../dist/ychart.js"></script>

</head>
<body>
<div style="width :800px; margin: 0 auto;">
    <div id="drawing" style="border:blue solid 1px ;width :1200px;height:900px "> </div>
</div>

<div style="width :800px; margin: 0 auto;display: none;">
    <canvas id="drawing1" style="border:blue solid 1px ;width :800px;height:800px "> </canvas>
</div>
<div style="width:800px;margin:0 auto;margin-top:10px;">
    <button onclick="zoomOut()">放大</button>
    <button onclick="zoomIn()">缩小</button>
</div>
<div style="display: none;">
    <img src="sth.jpg" id="img" alt="">
    <img src="sth1.png" id="img1" alt="">
</div>
<script>

    var $= function (id) {
        return document.getElementById(id);
    };


    var ycharts = ychart,Line = ychart.shape.Line ,YImage = ychart.shape.Image, Circle = ycharts.shape.Circle;
    var Group = ychart.Group;
    yh = ycharts.init("drawing");

    var img = document.images[0];
    var ow = img.width,oh=img.height,
        tw = yh.getWidth(),th=yh.getHeight();
    var pts=[[100,370],[150,320]];
    var imgs =new YImage({
        image: img,
        dWidth: ow,
        dHeight: oh
    });
    var circle1 = new Circle({
        x: pts[0][0],
        y: pts[0][1],
        draggable: false,
        r: 5,
        style:{
            color: "red"
        }
    });
    var circle2 = new Circle({
        x: pts[1][0],
        y: pts[1][1],
        draggable:false,
        r: 5,
        style:{
            color: "red"
        }
    });
    var scale = [1,1];
    scale[0] = tw/ow,
    scale[1] = th/oh;
    var gp = new Group({
        scale: scale
    })
    gp.add(imgs);
    gp.add(circle1);
    gp.add(circle2);
    yh.add(gp);
    yh.BrushAll();
    circle1.on("click",function () {
        console.log("curcle1 click!");
    });
    circle2.on("click",function () {
       console.log("curcle2 click!");
    });
    imgs.on("click",function(){
        console.log("click img");
    })
    function zoomOut() {
        gp.zoom(1.3,1.1);
        yh.BrushAll();
    }
    function zoomIn() {
        yh.cleanPainter();
        gp.zoom(0.7,0.9);
        yh.BrushAll();
    }
</script>
</body>
</html>
